"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5490],{82563:function(e,n,t){t.d(n,{w:function(){return i},u:function(){return a}});var r=t(26786),o=t(3688),i=function(e,n){return e.diff(n,"h",!0)<24},a=function(e,n){var t=n||{},i=t.hiddenFields,a=void 0===i?[]:i,l=t.prefix,u={days:"\u5929",hours:"\u5c0f\u65f6",minutes:"\u5206",seconds:"\u79d2"},s=["days","hours","minutes","seconds"].filter((function(e){return!a.includes(e)})).map((function(n,t){return 0!==t?{timeKey:n,value:e[n]()}:{timeKey:n,value:Math.floor(e["as".concat((0,r.Z)(n))]())}}));return s.slice(s.findIndex((function(e){return 0!==e.value}))||0).map((function(e){return"".concat(e.value," ").concat((0,o.Z)(l,u)[e.timeKey])})).join(" ")}},16287:function(e,n,t){t.d(n,{g:function(){return r}});var r={"data-gramm":!1,"data-gramm_editor":!1,"data-enable-grammarly":!1}},62577:function(e,n,t){t.r(n),t.d(n,{FilteredGraphQLErrorEnum:function(){return r},filterGraphQLError:function(){return i},handleErrorWithFallback:function(){return a},defaultErrorHandler:function(){return l}});var r,o=t(33709);function i(e){var n=Array.isArray(e)?e[0]:e;if(function(e){return e&&"object"===typeof e&&"string"===typeof e.message}(n)){var t=n.message.indexOf("\ud83d\udc38\u2615");return t>-1?{errorType:r.frogTea,message:n.message.slice(t+"\ud83d\udc38\u2615".length)}:{errorType:r.unknown,message:n.message}}return null}!function(e){e.frogTea="frog-tea",e.unknown="unknown"}(r||(r={}));var a=function(e){return function(n){var t,a,l=i(null===n||void 0===n||null===(t=n.response)||void 0===t?void 0:t.errors);(null===n||void 0===n||null===(a=n.response)||void 0===a?void 0:a.status)>=400||((null===l||void 0===l?void 0:l.errorType)===r.frogTea||(null===l||void 0===l?void 0:l.errorType)===r.unknown?o.y.error(l.message).then():e&&o.y.error(e).then())}},l=a()},84423:function(e,n,t){t.d(n,{t:function(){return g}});var r=t(85893),o=t(67294),i=t(73935),a=t(22143),l=t(90758),u=t(12831),s=t(6848),c=t(20237),d=t(70238),f=t(6486),m=function(e){var n,t=e.visible,o=e.loading,m=e.variant,v=e.className,p=e.title,y=e.confirmText,b=e.icon,h=e.iconClassName,g=e.confirmBtn,x=e.confirmBtnCls,j=e.onConfirm,C=e.cancelBtn,w=e.cancelBtnCls,O=e.onCancel,I=(0,a.$G)("common",{keyPrefix:"confirmModal"}).t,N=function(e){switch(e){case"info":return{icon:d.e,iconClassName:u.Cj.labelBlueStandard,confirmBtnCls:(0,l.yI)(u.Cj.bgBlueStandard,u.Cj.bgBlue3Hover,u.Cj.labelWhite)};case"danger":return{icon:f.Q,iconClassName:u.Cj.labelRedStandard,confirmBtnCls:(0,l.yI)(u.Cj.bgRedStandard,u.Cj.bgRed3Hover,u.Cj.labelWhite)};default:return{}}}(m),S=null!==(n=null!==b&&void 0!==b?b:N.icon)&&void 0!==n?n:d.e;return(0,i.createPortal)((0,r.jsx)(s.u,{visible:t,onCancel:O,closable:!1,maskClosable:!0,className:v,children:(0,r.jsxs)("div",{className:"flex space-x-5",children:[(0,r.jsx)("div",{className:(0,l.yI)("h-10 w-10",N.iconClassName,h),children:(0,r.jsx)(S,{className:"h-full w-full"})}),(0,r.jsxs)("div",{className:"flex w-full flex-col",children:[(0,r.jsx)("div",{className:(0,l.yI)(u.Cj.label1,"text-lg font-medium"),children:p||I("title")}),y&&(0,r.jsx)("div",{className:(0,l.yI)(u.Cj.label2,"mt-2 text-sm"),children:y}),(0,r.jsxs)("div",{className:"mt-8 flex items-center justify-end space-x-4 text-sm font-medium",children:[(0,r.jsx)(c.z,{className:(0,l.yI)("cursor-pointer rounded-lg px-4 py-[5px]",u.Cj.label2,u.Cj.fill3,u.Cj.fill2Hover,w),onClick:O,children:C||I("cancelBtn")}),(0,r.jsx)(c.z,{loading:o,disabled:o,className:(0,l.yI)("cursor-pointer rounded-lg px-4 py-[5px]",u.Cj.labelWhite,N.confirmBtnCls,x),onClick:j,children:g||I("confirmBtn")})]})]})]})}),document.querySelector("#modal-root"))};function v(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var p={visible:!1,title:"",confirmText:"",icon:void 0,iconClassName:"",confirmBtn:"",confirmBtnCls:"",onConfirm:function(){return null},cancelBtn:"",cancelBtnCls:"",onCancel:function(){return null}},y=function(e,n){switch(n.type){case"update":return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){v(e,n,t[n])}))}return e}({},e,n.payload);case"reset":return p;default:throw new Error}};function b(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){b(e,n,t[n])}))}return e}var g=function(e){var n=(0,o.useReducer)(y,h({},p,e)),t=n[0],i=n[1],a=(0,o.useCallback)((function(e){return i({type:"update",payload:e})}),[i]),l=(0,o.useCallback)((function(){return i({type:"reset"})}),[i]),u=(0,o.useCallback)((function(){return i({type:"update",payload:{visible:!0}})}),[i]),s=(0,o.useCallback)((function(){return i({type:"update",payload:{visible:!1}})}),[i]);return(0,o.useEffect)((function(){return a({onCancel:s})}),[a,s]),{modal:(0,r.jsx)(m,h({},t)),control:(0,o.useMemo)((function(){return{update:a,reset:l,show:u,hide:s}}),[a,l,u,s]),visible:t.visible,update:a,reset:l,show:u,hide:s}}},3823:function(e,n,t){t.d(n,{T:function(){return u}});var r=t(59148),o=t(38597),i=t(32180);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){a(e,n,t[n])}))}return e}var u=(0,r.Z)((0,o.$e)({allListeners:{},lastEvents:{}},(function(e,n){return{subscribe:function(t,r,o){var u=n(),s=u.allListeners,c=u.lastEvents,d=s[t]||new Set;return d.add(r),e((function(e){return l({},e,{allListeners:l({},e.allListeners,a({},t,d))})})),(null===o||void 0===o?void 0:o.startWithLastEvent)&&c[t]&&r(c[t]),function(){var o=n().allListeners,u=o[t];u&&(u.delete(r),0===u.size?e((function(e){return l({},e,{allListeners:(0,i.Z)(o,t)})})):e((function(e){return l({},e,{allListeners:l({},e.allListeners,a({},t,u))})})))}},emit:function(t,r,o){var i,u=null!==(i=n().allListeners[t])&&void 0!==i?i:new Set;0!==u.size&&(u.forEach((function(e){return e(r,{isExternal:null===o||void 0===o?void 0:o.isExternal})})),!1!==(null===o||void 0===o?void 0:o.keepLast)&&e((function(e){return l({},e,{lastEvents:l({},e.lastEvents,a({},t,r))})})))}}}))).getState()},54630:function(e,n,t){t.d(n,{X:function(){return o}});var r=t(67294),o=function(){var e=(0,r.useState)(!1),n=e[0],t=e[1],o=(0,r.useState)(null),i=o[0],a=o[1],l=function(){return t(!0)},u=function(){return t(!1)};return(0,r.useEffect)((function(){if(i)return i.addEventListener("mouseover",l),i.addEventListener("mouseleave",u),function(){i.removeEventListener("mouseover",l),i.removeEventListener("mouseleave",u)}}),[i]),[a,n]}},92704:function(e,n,t){t.d(n,{v:function(){return o}});var r=t(48580),o=function(e){var n,t=(0,r.U)().data;return e===(null===t||void 0===t||null===(n=t.userStatus)||void 0===n?void 0:n.username)}},15490:function(e,n,t){t.d(n,{Z:function(){return Or}});var r=t(34051),o=t.n(r),i=t(85893),a=t(67294),l=t(29732),u=t(5691),s=t(26629),c=t(66004),d=t(29450),f=function(e,n){return n.length-e.length},m=function(e,n){if(!n.length)return e;var t=e.length,r=0,o=new Map,i=[],a=1e4,l=0,u=!0,s=!1,c=void 0;try{for(var d,m=n[Symbol.iterator]();!(u=(d=m.next()).done);u=!0){var v=d.value,p=v.nickName,y=v.slug;if(!o.has(p)){o.set(p,y),i.push(p);var b=p.length;b<a&&(a=b),b>l&&(l=b)}}}catch(O){s=!0,c=O}finally{try{u||null==m.return||m.return()}finally{if(s)throw c}}i.sort(f);for(var h=function(n){var t=e.substring(n,n+l);if(t.length<a)return null;var r=!0,o=!1,u=void 0;try{for(var s,c=i[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var d=s.value;if(t.startsWith(d))return d}}catch(O){o=!0,u=O}finally{try{r||null==c.return||c.return()}finally{if(o)throw u}}return null},g=[];r<t;){var x=e.indexOf("@",r);if(x<0){g.push(e.substring(r));break}g.push(e.substring(r,x));var j=h(x+1);if(j){var C=x+j.length+1;if(x>0&&"["===e.charAt(x-1))g.push(e.substring(x,C));else{var w=o.get(j);g.push("[@".concat(j,"](/u/").concat(w,")"))}r=C}else g.push("@"),r=x+1}return g.join("")},v=t(76269),p=t(29337),y=function(e){return 1===e?p.i6.Up:-1===e?p.i6.Down:p.i6.None},b=t(43710),h=p.f.Best;var g=function(e){return s.zCE.getKey(function(e){var n=e.topicId,t=e.orderBy,r=e.pageNo,o=e.numPerPage;return{topicId:n,orderBy:t?j(t):void 0,skip:r&&o?(r-1)*o:0,numPerPage:o}}(e))},x=d.Oo?function(e){var n=e.topicId,t=e.orderBy,r=void 0===t?h:t,o=e.pageNo,i=void 0===o?1:o,a=e.numPerPage,l=void 0===a?10:a;return u.zCE.getKey({topicId:n,orderBy:r,pageNo:i,numPerPage:l})}:g;function j(e){var n=p.f.NewestToOldest,t=p.f.OldestToNewest;switch(e){case n:return s.sTy.NewToOld;case t:return s.sTy.OldToNew;default:return s.sTy.Hot}}var C=d.Oo?function(e,n){var t=e.isDiscuss,r=e.topicId,o=e.orderBy,i=void 0===o?h:o,a=e.pageNo,l=void 0===a?1:a,s=e.numPerPage,d=void 0===s?10:s,f=n.enabled,m=u.zCE.getKey({topicId:r,pageNo:l,numPerPage:d,orderBy:i});return(0,u.zCE)(c.f6,{topicId:r,pageNo:l,numPerPage:d,orderBy:i},{enabled:f,select:function(e){var n=e.topicComments||{},r=n.data,o=n.totalNum;return r?{total:o||0,comments:r.map((function(e){var n,r,o,i,a,l,u,s,c,d,f,p;return{id:e.id,pinned:e.pinned||!1,content:(0,v.pC)(e.post.content),pinnedBy:{username:(null===(n=e.pinnedBy)||void 0===n?void 0:n.username)||""},postId:e.post.id,voteCount:e.post.voteCount,voteStatus:y(e.post.voteStatus||0),status:e.post.status,isHidden:e.post.isHidden||!1,creationDate:e.post.creationDate||0,isDiscussAdmin:(null===(r=e.post.author)||void 0===r?void 0:r.isDiscussAdmin)||!1,isDiscussStaff:(null===(o=e.post.author)||void 0===o?void 0:o.isDiscussStaff)||!1,userAvatar:(null===(i=e.post.author)||void 0===i?void 0:i.profile.userAvatar)||"",username:(null===(a=e.post.author)||void 0===a?void 0:a.username)||"",isActive:(null===(l=e.post.author)||void 0===l?void 0:l.isActive)||!1,nameColor:(null===(u=e.post.author)||void 0===u?void 0:u.nameColor)||"",activeBadgeIcon:(null===(s=e.post.author)||void 0===s||null===(c=s.activeBadge)||void 0===c?void 0:c.icon)||"",activeBadgeName:(null===(d=e.post.author)||void 0===d||null===(f=d.activeBadge)||void 0===f?void 0:f.displayName)||"",queryKey:m,isOwnPost:e.post.isOwnPost||!1,numChildren:e.numChildren,intentionTag:t?null===(p=e.intentionTag)||void 0===p?void 0:p.slug:void 0,ipRegion:""}}))}:{total:o||0,comments:[]}}})}:function(e){var n=e.topicId,t=e.orderBy,r=void 0===t?h:t,o=e.pageNo,i=void 0===o?1:o,a=e.numPerPage,u=void 0===a?10:a,d=g({topicId:n,pageNo:i,numPerPage:u,orderBy:r});return(0,s.zCE)(c.f6,{topicId:n,skip:(i-1)*u,numPerPage:u,orderBy:j(r)},{enabled:Boolean(n),select:function(e){var n=e.commonTopicComments||{},t=n.edges,r=n.totalNum,o=(0,l.Z)(t).map((function(e){return e.node}))||[];return o?{total:r||0,comments:(0,l.Z)(o).map((function(e){var n,t,r,o,i,a,l,u=m(e.post.content||"",(e.post.mentionedUsers||[]).filter(Boolean).map((function(e){return{nickName:e.nickName,slug:e.userSlug}})));return{id:Number(e.id),ipRegion:e.ipRegion,pinned:!1,content:u,pinnedBy:{username:""},isEdited:e.isEdited,postId:e.post.id,voteCount:e.post.voteUpCount||0,voteStatus:y(e.post.voteStatus||0),status:e.post.status,isHidden:e.post.status===b.$4.Muted,creationDate:e.post.creationDate||0,isDiscussAdmin:(null===(n=e.post.author)||void 0===n?void 0:n.isDiscussAdmin)||!1,isDiscussStaff:(null===(t=e.post.author)||void 0===t?void 0:t.isDiscussStaff)||!1,userAvatar:(null===(r=e.post.author)||void 0===r?void 0:r.profile.userAvatar)||"",username:(null===(o=e.post.author)||void 0===o?void 0:o.username)||"",realName:null===(i=e.post.author)||void 0===i?void 0:i.profile.realName,userSlug:(null===(a=e.post.author)||void 0===a?void 0:a.profile.userSlug)||"",isActive:!1,nameColor:"",activeBadgeIcon:"",activeBadgeName:"",queryKey:d,isOwnPost:e.post.isOwnPost||!1,numChildren:null!==(l=e.numChildren)&&void 0!==l?l:0,intentionTag:void 0}}))}:{total:r||0,comments:[]}}})};function w(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var O=d.Oo?function(e,n){var t=e.topicId,r=void 0===t?0:t,o=e.commentId,i=void 0===o?0:o,a=e.orderBy;return(0,u.e63)(c.f6,{topicId:r,commentId:i,orderBy:a},function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){w(e,n,t[n])}))}return e}({},n,{select:function(e){if(!(null===e||void 0===e?void 0:e.commentContext))return null;var n=JSON.parse(e.commentContext),t=n.pageNo,r=n.parentId;return{pageNo:Number(t),parentCommentId:Number(r)}}}))}:function(e){var n=e.commentId;return(0,s.Pcv)(c.f6,{commentId:String(n)},{select:function(e){if(!e.commentPage)return null;var n=e.commentPage,t=n.pageNum,r=n.parentId;return{pageNo:t,parentCommentId:Number(r)}}})},I=t(48580),N=t(9835),S=t(86328),k=t(46242),P=t(90758),T=t(52921),E=t(22143),A=t(84423),D=t(12831),q=t(97383);function R(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var L=function(){var e=(0,a.useState)({visible:!1,comment:void 0}),n=e[0],t=e[1],r=(0,a.useCallback)((function(e){return t((function(n){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){R(e,n,t[n])}))}return e}({},n,e)}))}),[t]);return[n,r]},B=t(11355);function M(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function H(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){M(e,n,t[n])}))}return e}var _,G=d.Oo?function(e){var n=e.commentId;return u.EcN.getKey({commentId:n})}:function(e){var n=e.commentId;return s.EcN.getKey({commentId:String(n)})},Q=function(e,n,t){if(!t)return n?e.slice(0,n):e;var r=e.findIndex((function(e){return e.id===t}));return e.slice(0,r+1)},z=d.Oo?function(e,n){var t=e.commentId,r=e.pageNo,o=e.numPerPage,i=e.upToReplyId,a=u.EcN.getKey({commentId:t});return(0,u.EcN)(c.f6,{commentId:t},H({},n,{select:function(e){var n=e.commentReplies||[];if(!(null===n||void 0===n?void 0:n.length))return{total:0,comments:[]};var t=n.map((function(e){var n,t,r,o,i,l,u,s,c,d,f;return{id:e.id,pinned:e.pinned||!1,content:(0,v.pC)(e.post.content),pinnedBy:{username:(null===(n=e.pinnedBy)||void 0===n?void 0:n.username)||""},voteCount:e.post.voteCount,voteStatus:y(e.post.voteStatus||0),status:e.post.status,isHidden:e.post.isHidden||!1,postId:e.post.id,creationDate:e.post.creationDate||0,isDiscussAdmin:(null===(t=e.post.author)||void 0===t?void 0:t.isDiscussAdmin)||!1,isDiscussStaff:(null===(r=e.post.author)||void 0===r?void 0:r.isDiscussStaff)||!1,userAvatar:(null===(o=e.post.author)||void 0===o?void 0:o.profile.userAvatar)||"",username:(null===(i=e.post.author)||void 0===i?void 0:i.username)||"",isActive:(null===(l=e.post.author)||void 0===l?void 0:l.isActive)||!1,nameColor:(null===(u=e.post.author)||void 0===u?void 0:u.nameColor)||"",activeBadgeIcon:(null===(s=e.post.author)||void 0===s||null===(c=s.activeBadge)||void 0===c?void 0:c.icon)||"",activeBadgeName:(null===(d=e.post.author)||void 0===d||null===(f=d.activeBadge)||void 0===f?void 0:f.displayName)||"",queryKey:a,isOwnPost:e.post.isOwnPost||!1,numChildren:0,ipRegion:""}})),l=void 0!==o?o*(r||1):0;return{total:t.length,comments:Q(t,l,i)}}}))}:function(e,n){var t=e.commentId,r=e.pageNo,o=e.numPerPage,i=e.upToReplyId,a=s.EcN.getKey({commentId:String(t)});return(0,s.EcN)(c.f6,{commentId:String(t),first:o,skip:r&&o?(r-1)*o:0},H({},n,{select:function(e){var n=e.commentReplyConnection,t=(0,l.Z)(null===n||void 0===n?void 0:n.edges.map((function(e){return null===e||void 0===e?void 0:e.node})));if(!(null===t||void 0===t?void 0:t.length))return{total:0,comments:[]};var u,s=t.map((function(e){var n,t,r,o,i,l;return{id:Number(e.id),pinned:!1,content:m(e.post.content||"",(e.post.mentionedUsers||[]).filter(Boolean).map((function(e){return{nickName:e.nickName,slug:e.userSlug}}))),pinnedBy:{username:""},voteCount:e.post.voteUpCount,voteStatus:y(e.post.voteStatus||0),status:e.post.status,isHidden:e.post.status===b.$4.Muted,postId:e.post.id,creationDate:e.post.creationDate||0,isDiscussAdmin:(null===(n=e.post.author)||void 0===n?void 0:n.isDiscussAdmin)||!1,isDiscussStaff:(null===(t=e.post.author)||void 0===t?void 0:t.isDiscussStaff)||!1,userAvatar:(null===(r=e.post.author)||void 0===r?void 0:r.profile.userAvatar)||"",username:(null===(o=e.post.author)||void 0===o?void 0:o.username)||"",realName:null===(i=e.post.author)||void 0===i?void 0:i.profile.realName,userSlug:(null===(l=e.post.author)||void 0===l?void 0:l.profile.userSlug)||"",isActive:!1,nameColor:"",activeBadgeIcon:"",activeBadgeName:"",queryKey:a,isOwnPost:e.post.isOwnPost||!1,numChildren:0,ipRegion:e.ipRegion}})),c=void 0!==o?o*(r||1):0;return{total:null!==(u=null===n||void 0===n?void 0:n.totalNum)&&void 0!==u?u:0,comments:Q(s,c,i)}}}))},Z=t(92704),$=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e){var t=e.value.length||0;e.setSelectionRange(t,t),n?setTimeout((function(){return e.focus()}),n):e.focus()}},U=t(46927),F=t(41729),V=t(20001),K=t(54630),W=t(33709),Y=t(27459),J=t(46612),X=t(88767),ee=t(68652),ne=t(62577);function te(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function re(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){te(e,n,t[n])}))}return e}!function(e){e.QuestionComment="questionDiscussComments",e.Reply="commentReplies"}(_||(_={}));var oe=function(e){var n=e.postId,t=e.commentId,r=e.changeComment,o=e.queryClient,i=e.key;o.setQueryData(i,(function(e){var o=function(e,n){switch(e[0]){case _.QuestionComment:var t;return(null===n||void 0===n||null===(t=n.topicComments)||void 0===t?void 0:t.data)||[];case _.Reply:return(null===n||void 0===n?void 0:n.commentReplies)||[]}}(i,e),a=null===o||void 0===o?void 0:o.map((function(e){return e.post.id===n||e.id===t?r(e):e})),l=function(e,n,t){switch(e[0]){case _.QuestionComment:return{topicComments:re({},t.topicComments,{data:n})};case _.Reply:return{commentReplies:n}}}(i,a,e);return re({},l)}))},ie=(d.Oo,oe);function ae(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var le=function(e){var n=e.postId,t=e.voteStatus,r=e.queryClient,o=e.key;ie({postId:n,changeComment:function(e){var n=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){ae(e,n,t[n])}))}return e}({},e);return n.post.voteCount=e.post.voteCount+(t-e.post.voteStatus),n.post.voteStatus=t,n},queryClient:r,key:o})};function ue(e,n){return 1===n&&1!=e?-1:1!=n&&1===e?1:0}var se=d.Oo?function(e){var n=(0,X.useQueryClient)();return(0,u.sbl)(c.f6,{onSuccess:function(t,r){var o,i;le({postId:r.postId,voteStatus:(null===(o=t.votePost)||void 0===o||null===(i=o.post)||void 0===i?void 0:i.voteStatus)||0,queryClient:n,key:e})}})}:function(e){var n=(0,X.useQueryClient)();return(0,s.xi3)(c.f6,{onMutate:function(t){var r=t.postId,o=t.voteStatus,i=n.getQueryData(e);return n.setQueriesData(e,(function(e){var n,t=(0,ee.Z)(e);if("commonTopicComments"in t)null===(n=t.commonTopicComments)||void 0===n||n.edges.forEach((function(e){var n=null===e||void 0===e?void 0:e.node;if(n&&n.post.id===r){var t,i=null!==(t=n.post.voteStatus)&&void 0!==t?t:0;n.post.voteUpCount=n.post.voteUpCount+ue(o,i),n.post.voteStatus=o}}));else if("commentReplyConnection"in t){var i;null===(i=t.commentReplyConnection)||void 0===i||i.edges.forEach((function(e){var n=null===e||void 0===e?void 0:e.node;if(n&&n.post.id===r){var t,i=null!==(t=n.post.voteStatus)&&void 0!==t?t:0;n.post.voteUpCount=n.post.voteUpCount+ue(o,i),n.post.voteStatus=o}}))}return null!==t&&void 0!==t?t:{}})),i},onError:function(t,r,o){n.setQueryData(e,o),(0,ne.defaultErrorHandler)(t)},onSuccess:function(e,t){var r=t.postId;n.setQueriesData(["questionDiscussComments"],(function(n){var t,o=(0,ee.Z)(n);return null===(t=o.commonTopicComments)||void 0===t||t.edges.forEach((function(n){var t,o,i,a,l,u,s=null===n||void 0===n?void 0:n.node;s&&s.post.id===r&&(s.post.voteUpCount=null!==(l=null===(t=e.votePost)||void 0===t||null===(o=t.post)||void 0===o?void 0:o.voteUpCount)&&void 0!==l?l:0,s.post.voteStatus=null!==(u=null===(i=e.votePost)||void 0===i||null===(a=i.post)||void 0===a?void 0:a.voteStatus)&&void 0!==u?u:0)})),o}))}})};function ce(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var de=a.forwardRef((function(e,n){return(0,i.jsx)("svg",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){ce(e,n,t[n])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor",ref:n},e,{children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M8.461 5.758l3.253 3.468a.333.333 0 01-.244.56H4.53a.333.333 0 01-.245-.559l3.2-3.466a.667.667 0 01.976-.003z",clipRule:"evenodd"})}))})),fe=t(65890),me=t(57199);function ve(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var pe,ye,be,he=a.forwardRef((function(e,n){return(0,i.jsx)("svg",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){ve(e,n,t[n])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor",ref:n},e,{children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M8.461 10.243a.667.667 0 01-.976-.004l-3.2-3.466a.333.333 0 01.245-.56h6.94a.333.333 0 01.244.562L8.46 10.243z",clipRule:"evenodd"})}))})),ge=t(87388),xe=t(30101),je=t(32681),Ce=t(3346);!function(e){e.QdSolutionTab="QD_Solution_Tab",e.QdDiscussTab="QD_Discuss_Tab",e.QdSolutionTabComment="QD_Solution_Tab_comment",e.QdDiscussTabComment="QD_Discuss_Tab_comment",e.QdSolutionTabReply="QD_Solution_Tab_reply",e.QdDiscussTabReply="QD_Discuss_Tab_reply"}(pe||(pe={})),function(e){e.Comment="comment",e.Reply="reply"}(ye||(ye={})),function(e){e.SolutionTab="solution_tab",e.DiscussTab="discuss_tab"}(be||(be={}));var we=function(e){switch(e){case Ce.Dk.Solution:case Ce.Dk.OfficialSolution:return be.SolutionTab;case Ce.Dk.Discuss:return be.DiscussTab}};function Oe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Ie=function(e){var n,t,r,o,l,u,s,c,f=e.comment,m=e.isMyself,v=e.trackingCommentType,y=(0,E.$G)("solutions").t,b=se(f.queryKey),h=b.mutateAsync,g=b.isLoading,x=Boolean(null===(n=(0,I.U)())||void 0===n||null===(t=n.data)||void 0===t||null===(r=t.userStatus)||void 0===r?void 0:r.isSignedIn),j=Boolean(null===(o=(0,I.U)())||void 0===o||null===(l=o.data)||void 0===l||null===(u=l.userStatus)||void 0===u?void 0:u.isVerified),C=(0,Ce.wG)((function(e){return e.layoutType})),w=(0,Ce.yZ)((function(e){return e.questionSlug})),O=f.voteCount,N=f.voteStatus,k=f.postId,A=(0,a.useCallback)((function(){return x?j||W.y.error((0,i.jsxs)("span",{children:[y("comments.youMust")," ",(0,i.jsx)("a",{href:J.Hb.profileHome(),target:"_blank",rel:"noreferrer",className:(0,P.yI)(D.Cj.labelBlueStandard),children:y("comments.verifyYourEmail")})," ",y("comments.first"),"."]}),{itemClassName:D.Cj.bgLayer3}):W.y.error(y("common:loginRequired"),{itemClassName:D.Cj.bgLayer3}),x&&j}),[x,j,y]),q=(0,a.useCallback)((function(e){A()&&h({postId:k,voteStatus:e}).then((function(n){var t,r;(null===n||void 0===n||null===(t=n.votePost)||void 0===t?void 0:t.ok)?w&&(1===e&&T.d.qdUpVoteCommentClick({qd_version:S.AQ,qd_question_slug:w,qd_comment_pos:we(C),qd_comment_type:v}),-1===e&&T.d.qdDownVoteCommentClick({qd_version:S.AQ,qd_question_slug:w,qd_comment_pos:we(C),qd_comment_type:v})):W.y.error((null===n||void 0===n||null===(r=n.votePost)||void 0===r?void 0:r.error)||y("comments.somethingWentWrong"),{itemClassName:D.Cj.bgLayer3})}))}),[A,h,k,y,C,w,v]),R=(0,a.useCallback)((function(){var e=N===p.i6.Up?0:1;q(e)}),[q,N]),L=(0,a.useCallback)((function(){var e=N===p.i6.Down?0:-1;q(e)}),[q,N]),B=N===p.i6.Up,M=N===p.i6.Down,H=g||d.Oo&&m;return(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)(je.E,{label:(0,Y.ZP)(O),labelClassName:!d.Oo&&B?D.Cj.labelBlueStandard:D.Cj.label2,disabled:H,onIconClick:R,icon:d.Oo?de:N===p.i6.Up?fe.C:me.h,iconClassName:(0,P.yI)("w-[18px] h-[18px] cursor-pointer",(s={},Oe(s,"".concat(D.Cj.label4),!B&&H),Oe(s,"".concat(D.Cj.labelGrey6," ").concat(D.Cj.labelGrey7Hover),!B&&!H),Oe(s,"".concat(D.Cj.labelGreenStandard," ").concat(D.Cj.labelGreenStandardHover," "),B&&d.Oo),Oe(s,"".concat(D.Cj.labelBlueStandard," ").concat(D.Cj.labelBlueStandardHover," "),B&&!d.Oo),s)),className:(0,P.yI)("transition-colors",{"mr-3 gap-1":!d.Oo,"gap-2":d.Oo})}),(0,i.jsx)(je.E,{disabled:H,onIconClick:L,icon:d.Oo?he:N===p.i6.Down?ge.j:xe.y,className:(0,P.yI)("transition-colors"),iconClassName:(0,P.yI)("w-[18px] h-[18px] cursor-pointer",(c={},Oe(c,"".concat(D.Cj.label4),!M&&H),Oe(c,"".concat(D.Cj.labelGrey6," ").concat(D.Cj.labelGrey7Hover),!M&&!H),Oe(c,"".concat(D.Cj.labelGrey7," ").concat(D.Cj.labelGrey7Hover," "),M&&d.Oo),Oe(c,"".concat(D.Cj.labelRedStandard," ").concat(D.Cj.labelRedStandardHover," "),M&&!d.Oo),c))})]})},Ne=t(17681),Se=function(e){var n=e.onClick,t=e.showReplies,r=e.showLabel,o=e.repliesNum,a=void 0===o?0:o,l=(0,E.$G)("solutions",{keyPrefix:"comments"}).t,u=String((0,Y.ZP)(a)),s=r?t?l("hideReplies"):l("showReplies",{num:u}):"".concat(u);return a<1?null:(0,i.jsx)("div",{onClick:n,children:(0,i.jsx)(je.E,{label:s,icon:Ne.f,iconClassName:(0,P.yI)("w-4.5 h-4.5",D.Cj.labelGrey6,D.Cj.labelGrey7GroupHover),labelClassName:(0,P.yI)(D.Cj.label1GroupHover),className:(0,P.yI)("group cursor-pointer transition-colors")})})};function ke(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Pe=a.forwardRef((function(e,n){return(0,i.jsx)("svg",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){ke(e,n,t[n])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor",ref:n},e,{children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M5.83 2.106c.628-.634 1.71-.189 1.71.704v2.065c4.821.94 6.97 4.547 7.73 8.085l-.651.14.652-.134c.157.757-.83 1.192-1.284.565l-.007-.009c-1.528-2.055-3.576-3.332-6.44-3.502v2.352c0 .893-1.082 1.338-1.71.704L1.091 8.295a1 1 0 010-1.408l4.737-4.78zm7.303 8.617C12.08 8.495 10.204 6.68 7.046 6.14c-.47-.08-.84-.486-.84-.99V3.62L2.271 7.591l3.934 3.971V9.667a.993.993 0 011.018-.995c2.397.065 4.339.803 5.909 2.051z",clipRule:"evenodd"})}))})),Te=function(e){var n=e.onClick,t=e.showLabel,r=(0,E.$G)("solutions",{keyPrefix:"comments"}).t;return(0,i.jsx)(je.E,{onClick:n,label:t?r("reply"):void 0,icon:Pe,iconClassName:(0,P.yI)("w-4.5 h-4.5",D.Cj.labelGrey6,D.Cj.labelGrey7GroupHover),labelClassName:(0,P.yI)(D.Cj.label1GroupHover),className:(0,P.yI)("group cursor-pointer gap-1 transition-colors")})},Ee=t(16742),Ae=function(e){var n=e.isOwnPost,t=e.onClick,r=e.showLabel,o=(0,E.$G)("solutions",{keyPrefix:"comments"}).t;return(0,Ce.wG)((function(e){return e.isModerator}))||n?(0,i.jsx)(je.E,{onClick:t,label:r?o("edit"):void 0,icon:Ee.P,iconClassName:(0,P.yI)("w-4.5 h-4.5",D.Cj.labelGrey6,D.Cj.labelGrey7GroupHover),labelClassName:(0,P.yI)(D.Cj.label1GroupHover),className:(0,P.yI)("group cursor-pointer gap-1 transition-colors")}):null},De=t(37969),qe=t(37599);function Re(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Le(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(u){l=!0,o=u}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return Re(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Re(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Be=function(e){var n=e.commentId,t=e.showLabel,r=e.onShareClick,o=(0,E.$G)("solutions",{keyPrefix:"comments"}).t,l=Le((0,De.c)(window.location.href,{successDuration:1e3}),2),u=l[0],s=l[1];(0,a.useEffect)((function(){u&&W.y.success(o("shareCopySuccess"),{itemClassName:D.Cj.bgLayer3})}),[u,o]);var c=(0,a.useCallback)((function(){var e=window.location.href.includes("/comments/")?"".concat(window.location.href.split("/comments/")[0],"/"):window.location.href.split("?")[0];s("".concat(e,"comments/").concat(n)),r&&r()}),[s,n,r]);return(0,i.jsxs)("div",{className:(0,P.yI)("group flex cursor-pointer items-center space-x-1"),onClick:c,children:[(0,i.jsx)("span",{children:(0,i.jsx)(qe.Q,{className:(0,P.yI)(D.Cj.labelGrey6,D.Cj.labelGrey7GroupHover,"h-4.5 w-4.5")})}),t&&(0,i.jsx)("span",{className:(0,P.yI)(D.Cj.label2,D.Cj.label1Hover),children:o("share")})]})};function Me(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function He(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Me(e,n,t[n])}))}return e}var _e=function(e){var n=e.commentId,t=e.pinned,r=e.pinnedByUsername,o=e.queryClient,i=e.key;ie({commentId:n,changeComment:function(e){var n=He({},e);return n.pinned=t,n.pinnedBy=He({},n.pinnedBy,{username:r}),n},queryClient:o,key:i})},Ge=(d.Oo,_e),Qe=d.Oo?function(){return(0,u.YxC)(c.f6)}:function(){return{}},ze=t(68911),Ze=function(e){var n=e.comment,t=e.updateModal,r=(0,E.$G)("solutions",{keyPrefix:"comments"}).t,o=(0,X.useQueryClient)(),l=Qe().mutateAsync,u=n.pinned,s=r(u?"unpin":"pin"),c=(0,a.useCallback)((function(){t({loading:!0}),l({commentId:n.id,pinned:!u}).then((function(e){var i,a,l,u,s,c;if(null===(i=e.togglePinComment)||void 0===i?void 0:i.ok){var d=!!(null===(a=e.togglePinComment)||void 0===a||null===(l=a.comment)||void 0===l?void 0:l.pinned),f=(null===(u=e.togglePinComment)||void 0===u||null===(s=u.comment)||void 0===s||null===(c=s.pinnedBy)||void 0===c?void 0:c.username)||"";W.y.success(r(d?"pinSuccess":"unpinSuccess"),{itemClassName:D.Cj.bgLayer3}),Ge({commentId:n.id,pinned:d,pinnedByUsername:f,queryClient:o,key:n.queryKey}),t({loading:!1,visible:!1})}else{var m;W.y.error((null===(m=e.togglePinComment)||void 0===m?void 0:m.error)||r("somethingWentWrong"),{itemClassName:D.Cj.bgLayer3})}}))}),[t,l,o,u,n.id,n.queryKey,r]),d=(0,a.useCallback)((function(){t({visible:!0,variant:"info",confirmText:r(u?"confirmUnpinComment":"confirmPinComment"),confirmBtn:r(u?"unpin":"pin"),onConfirm:c})}),[t,c,u,r]);return(0,i.jsx)(ze.T,{onClick:d,children:s})};function $e(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Ue=function(e){var n=e.postId,t=e.isHidden,r=e.queryClient,o=e.key;ie({postId:n,changeComment:function(e){var n=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){$e(e,n,t[n])}))}return e}({},e);return n.post.isHidden=t,n},queryClient:r,key:o})},Fe=d.Oo?function(e){var n=(0,X.useQueryClient)();return(0,u.xim)(c.f6,{onSuccess:function(t,r){var o,i;Ue({postId:r.postId,isHidden:!!(null===(o=t.hidePost)||void 0===o||null===(i=o.post)||void 0===i?void 0:i.isHidden),queryClient:n,key:e})}})}:function(e){var n=(0,X.useQueryClient)();return(0,s.Rhf)(c.f6,{onMutate:function(t){var r=n.getQueryData(e);return r&&n.setQueryData(e,(function(e){var n,r=(0,ee.Z)(e);return null===(n=r.commonTopicComments)||void 0===n||n.edges.forEach((function(e){var n,r;(null===e||void 0===e||null===(n=e.node)||void 0===n?void 0:n.id)===String(t.id)&&(null===e||void 0===e||null===(r=e.node)||void 0===r?void 0:r.post)&&(e.node.post.status=t.hide?b.$4.Muted:b.$4.Open)})),r})),r},onError:function(t,r,o){n.setQueryData(e,o)},onSuccess:function(){n.invalidateQueries(e)}})},Ve=function(e){var n=e.comment,t=e.updateModal,r=(0,E.$G)("solutions",{keyPrefix:"comments"}).t,o=Fe(n.queryKey).mutateAsync,l=n.isHidden,u=r(l?"showComment":"hideComment"),s=(0,a.useCallback)((function(){t({loading:!0}),o({postId:n.postId,hide:!l,id:n.id}).then((function(e){if("hidePost"in e){var n,o,i,a;if(!(null===(n=e.hidePost)||void 0===n?void 0:n.ok))return void W.y.error((null===(a=e.hidePost)||void 0===a?void 0:a.error)||r("somethingWentWrong"),{itemClassName:D.Cj.bgLayer3});var u=!!(null===(o=e.hidePost)||void 0===o||null===(i=o.post)||void 0===i?void 0:i.isHidden);W.y.success(r(u?"hideSuccess":"showSuccess"),{itemClassName:D.Cj.bgLayer3})}else W.y.success(r(l?"showSuccess":"hideSuccess"),{itemClassName:D.Cj.bgLayer3});t({loading:!1,visible:!1})}))}),[t,o,n.postId,n.id,l,r]),c=(0,a.useCallback)((function(){t({visible:!0,variant:l?"info":"danger",confirmText:r(l?"confirmShowComment":"confirmHideComment"),confirmBtn:r(l?"showComment":"hideComment"),onConfirm:s})}),[t,s,l,r]);return(0,i.jsx)(ze.T,{onClick:c,children:u})};function Ke(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function We(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Ke(e,n,t[n])}))}return e}var Ye=d.Oo?function(e){var n=e.postId,t=e.queryClient,r=e.key,o=e.parentKey,i=e.topicId;t.invalidateQueries(r),t.invalidateQueries("tabsStatus"),o&&t.invalidateQueries(o);ie({postId:n,changeComment:function(e){var n=We({},e);return n.post.status=b.$4.Deleted,n.post.isHidden=!0,n},queryClient:t,key:r}),i&&t.setQueryData(["communitySolution",{topicId:i}],(function(e){var n;return We({},e,{topic:We({},null===e||void 0===e?void 0:e.topic,{topLevelCommentCount:(null===e||void 0===e||null===(n=e.topic)||void 0===n?void 0:n.topLevelCommentCount)-1})})}))}:function(e){var n=e.queryClient,t=e.key,r=e.parentKey;n.invalidateQueries(t),n.invalidateQueries("tabsStatus"),r&&n.invalidateQueries(r)},Je=d.Oo?function(){return(0,u.soE)(c.f6)}:function(){var e=(0,X.useQueryClient)();return(0,s.soE)(c.f6,{onSuccess:function(){e.invalidateQueries(["questionDiscussComments"])}})};function Xe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var en=function(e){var n=e.postId,t=e.queryClient,r=e.key,o=e.status;ie({postId:n,changeComment:function(e){var n=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Xe(e,n,t[n])}))}return e}({},e);return n.post.status=o,n.post.isHidden=!1,n},queryClient:t,key:r})},nn=(d.Oo,en),tn=d.Oo?function(){return(0,u.xxG)(c.f6)}:function(){return{}},rn=function(e){var n=e.comment,t=e.parentComment,r=e.topicId,o=e.updateModal,l=(0,E.$G)("solutions",{keyPrefix:"comments"}).t,u=(0,X.useQueryClient)(),s=Je().mutateAsync,c=tn().mutateAsync,d=n.status===b.$4.Deleted,f=l(d?"restore":"delete"),m=(0,a.useCallback)((function(){o({loading:!0}),d?c({commentId:n.id}).then((function(e){var t,r,i;if(null===(t=e.approveComment)||void 0===t?void 0:t.ok){W.y.success(l("restoreSuccess"),{itemClassName:D.Cj.bgLayer3});var a=(null===(r=e.approveComment)||void 0===r||null===(i=r.post)||void 0===i?void 0:i.status)||b.$4.All;nn({postId:n.postId,queryClient:u,key:n.queryKey,status:a}),o({loading:!1,visible:!1})}else{var s;W.y.error(!(null===(s=e.approveComment)||void 0===s?void 0:s.error)||l("deleteCommentError"),{itemClassName:D.Cj.bgLayer3})}})):s({commentId:n.id}).then((function(e){var i,a;(null===(i=e.deleteComment)||void 0===i?void 0:i.ok)?(W.y.success(l("deleteSuccess"),{itemClassName:D.Cj.bgLayer3}),Ye({postId:n.postId,queryClient:u,key:n.queryKey,parentKey:null===t||void 0===t?void 0:t.queryKey,topicId:r}),o({loading:!1,visible:!1})):W.y.error(!(null===(a=e.deleteComment)||void 0===a?void 0:a.error)||l("deleteCommentError"),{itemClassName:D.Cj.bgLayer3})}))}),[o,s,c,u,d,n.id,n.postId,n.queryKey,null===t||void 0===t?void 0:t.queryKey,r,l]),v=(0,a.useCallback)((function(){o({visible:!0,variant:d?"info":"danger",confirmText:l(d?"confirmRestoreComment":"confirmDeleteComment"),confirmBtn:l(d?"restore":"delete"),onConfirm:m})}),[o,m,d,l]);return(0,i.jsx)(ze.T,{onClick:v,children:f})};function on(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var an=function(e){var n,t=e.comment,r=e.updateConfirmModal,o=e.updateReportModal,l=e.updateMoveToSolutionsModal,u=e.isPinnable,s=void 0===u||u,c=(0,E.$G)("solutions").t,f=(0,F.r)().isSignedIn,m=(0,a.useCallback)((function(){f?o({visible:!0,comment:t}):W.y.error(c("common:loginRequired"))}),[f,o,t,c]),v=(0,a.useCallback)((function(){l({visible:!0,comment:t})}),[l,t]),p=d.Oo?(0,P.yI)((on(n={},"opacity-1",!t.isHidden&&t.status!==b.$4.Deleted),on(n,"opacity-40",t.isHidden||t.status===b.$4.Deleted),n)):"",y=(0,Ce.wG)((function(e){return e.isModerator}));return!y&&t.isOwnPost?null:(0,i.jsxs)(ze.l,{btnClassName:(0,P.yI)("w-4.5 h-4.5",p),iconClassName:"w-4.5 h-4.5",children:[y&&s&&d.Oo&&(0,i.jsx)(Ze,{comment:t,updateModal:r}),y&&(0,i.jsx)(Ve,{comment:t,updateModal:r}),!t.isOwnPost&&(0,i.jsx)(ze.T,{onClick:m,children:c("comments.report")}),y&&(0,i.jsx)(rn,{comment:t,updateModal:r}),y&&d.Oo&&(0,i.jsx)(ze.T,{onClick:v,children:c("comments.move")})]})},ln=t(63062),un=function(e){var n=e.status,t=e.isHidden,r=(0,E.$G)("solutions",{keyPrefix:"comments"}).t,o=(0,Ce.wG)((function(e){return e.isModerator})),a=t?r("hidden"):n;return o?(0,i.jsx)("div",{className:(0,P.yI)(D.Cj.label4,"text-xs capitalize"),children:a}):null},sn=t(55824),cn=t(66698),dn=function(e){var n=e.comment,t=e.parentComment,r=e.topicId,o=e.updateModal,l=(0,E.$G)("solutions",{keyPrefix:"comments"}).t,u=(0,X.useQueryClient)(),s=Je().mutateAsync,c=tn().mutateAsync,d=n.status===b.$4.Deleted,f=(0,a.useMemo)((function(){return d?sn.H:cn.j}),[d]),m=(0,a.useCallback)((function(){o({loading:!0}),d?c({commentId:n.id}).then((function(e){var t,r,i;if(null===(t=e.approveComment)||void 0===t?void 0:t.ok){W.y.success(l("restoreSuccess"),{itemClassName:D.Cj.bgLayer3});var a=(null===(r=e.approveComment)||void 0===r||null===(i=r.post)||void 0===i?void 0:i.status)||b.$4.All;nn({postId:n.postId,queryClient:u,key:n.queryKey,status:a}),o({loading:!1,visible:!1})}else{var s;W.y.error(!(null===(s=e.approveComment)||void 0===s?void 0:s.error)||l("deleteCommentError"),{itemClassName:D.Cj.bgLayer3})}})):s({commentId:n.id}).then((function(e){var i,a;(null===(i=e.deleteComment)||void 0===i?void 0:i.ok)?(W.y.success(l("deleteSuccess"),{itemClassName:D.Cj.bgLayer3}),Ye({postId:n.postId,queryClient:u,key:n.queryKey,parentKey:null===t||void 0===t?void 0:t.queryKey,topicId:r}),o({loading:!1,visible:!1})):W.y.error(!(null===(a=e.deleteComment)||void 0===a?void 0:a.error)||l("deleteCommentError"),{itemClassName:D.Cj.bgLayer3})}))}),[o,s,c,u,d,n.id,n.postId,n.queryKey,null===t||void 0===t?void 0:t.queryKey,r,l]),v=l(d?"restore":"delete"),p=(0,a.useCallback)((function(){o({visible:!0,variant:d?"info":"danger",confirmText:l(d?"confirmRestoreComment":"confirmDeleteComment"),confirmBtn:l(d?"restore":"delete"),onConfirm:m})}),[o,m,d,l]);return(0,i.jsx)(je.E,{onClick:p,icon:f,label:v,labelClassName:(0,P.yI)(D.M$.label1Group),iconClassName:(0,P.yI)(D.M$.labelGrey7Group,"h-4.5 w-4.5"),className:(0,P.yI)("group cursor-pointer gap-1")})};function fn(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function mn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function vn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){mn(e,n,t[n])}))}return e}function pn(e){return function(e){if(Array.isArray(e))return fn(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return fn(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return fn(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var yn=d.Oo?function(e){var n=e.comment,t=e.queryClient,r=e.key,o=e.parentComment,i=e.questionSlug,a=e.topicId;i&&t.invalidateQueries(u.YyS.getKey({titleSlug:i}));var l=r[0]===_.QuestionComment?_.QuestionComment:_.Reply;if(l===_.QuestionComment){var s=r[1];[p.f.Best,p.f.MostVotes,p.f.NewestToOldest,p.f.OldestToNewest].filter((function(e){return e!==s.orderBy})).forEach((function(e){t.invalidateQueries([_.QuestionComment,vn({},s,{orderBy:e})])}))}var c=[r[0],vn({},r[1],{pageNo:1})],d=l===_.QuestionComment?c:r;t.setQueryData(d,(function(e){var t,r,o=e?l===_.QuestionComment?null===e||void 0===e||null===(t=e.topicComments)||void 0===t?void 0:t.data:null===e||void 0===e?void 0:e.commentReplies:[],i=[n].concat(pn(o));return vn({},l===_.QuestionComment?{topicComments:{data:i,totalNum:((null===e||void 0===e||null===(r=e.topicComments)||void 0===r?void 0:r.totalNum)||0)+1}}:{commentReplies:i})})),o&&t.setQueryData(o.queryKey,(function(e){var n,t=(e?null===e||void 0===e||null===(n=e.topicComments)||void 0===n?void 0:n.data:[]).map((function(e){return e.id===o.id?vn({},e,{numChildren:e.numChildren+1}):e})),r=vn({},e,{topicComments:vn({},null===e||void 0===e?void 0:e.topicComments,{data:t})});return vn({},r)})),a&&t.setQueryData(["communitySolution",{topicId:a}],(function(e){var n;return vn({},e,{topic:vn({},null===e||void 0===e?void 0:e.topic,{topLevelCommentCount:(null===e||void 0===e||null===(n=e.topic)||void 0===n?void 0:n.topLevelCommentCount)+1})})}))}:function(e){var n=e.comment,t=e.queryClient,r=e.key,o=e.parentComment;if((r[0]===_.QuestionComment?_.QuestionComment:_.Reply)===_.QuestionComment){var i=r[1],a=[r[0],vn({},i,{skip:0})],l=n;t.setQueryData(a,(function(e){var n,t=(0,ee.Z)(e);return(null===t||void 0===t||null===(n=t.commonTopicComments)||void 0===n?void 0:n.edges)&&(t.commonTopicComments.edges=[{node:l}].concat(pn(t.commonTopicComments.edges))),t}))}else t.invalidateQueries(r);o&&t.setQueryData(o.queryKey,(function(e){var n,t=(0,ee.Z)(e);t&&(null===(n=t.commonTopicComments)||void 0===n||n.edges.forEach((function(e){var n;if(Number(null===e||void 0===e||null===(n=e.node)||void 0===n?void 0:n.id)===o.id){var t=e.node.numChildren||0;e.node.numChildren=t+1}})));return t}))},bn=d.Oo?function(){return(0,u.sHn)(c.f6)}:function(){return(0,s.sHn)(c.f6)};function hn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var gn=d.Oo?function(e){var n=e.commentId,t=e.content,r=e.queryClient,o=e.key;ie({commentId:n,changeComment:function(e){var n=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){hn(e,n,t[n])}))}return e}({},e);return n.post.content=t,n},queryClient:r,key:o})}:function(e){var n=e.queryClient,t=e.key;n.invalidateQueries(t)},xn=d.Oo?function(){return(0,u.oRU)(c.f6)}:function(){return(0,s.oRU)(c.f6)},jn=function(e){var n=e.matchAll(/\[\@[^\]]+\]\(\/u\/([^/]+)\)/g),t=new Set,r=!0,o=!1,i=void 0;try{for(var a,l=n[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;(null===u||void 0===u?void 0:u[1])&&t.add(u[1])}}catch(s){o=!0,i=s}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return Array.from(t)};function Cn(e,n,t,r,o,i,a){try{var l=e[i](a),u=l.value}catch(s){return void t(s)}l.done?n(u):Promise.resolve(u).then(r,o)}function wn(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){Cn(i,r,o,a,l,"next",e)}function l(e){Cn(i,r,o,a,l,"throw",e)}a(void 0)}))}}var On,In,Nn,Sn=function(e){var n=e.queryKey,t=e.parentComment,r=e.existingComment,i=e.initialContent,l=e.initialIntentionTag,u=e.saveDraft,s=e.setPageNo,c=(0,E.$G)("solutions",{keyPrefix:"comments"}).t,f=(0,a.useState)((null===r||void 0===r?void 0:r.content)||i||""),m=f[0],p=f[1],y=(0,a.useState)(l||void 0),b=y[0],h=y[1],g=(0,a.useState)(!1),x=g[0],j=g[1],C=Number((0,Ce.wG)((function(e){return e.topicId}))),w=(0,Ce.wG)((function(e){return e.setContent})),O=(0,Ce.wG)((function(e){return e.setIntentionTag})),I=(0,X.useQueryClient)(),N=bn().mutateAsync,S=xn().mutateAsync,k=(0,a.useCallback)((function(e){p(e),u&&w(e)}),[p,w,u]),P=(0,a.useCallback)((function(e){h(e),u&&O(e)}),[h,O,u]),T=function(){var e=wn(o().mark((function e(){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x){e.next=2;break}return e.abrupt("return",{ok:!1});case 2:if(!(d.ob&&m.trim().length<3)){e.next=5;break}return W.y.error(c("tooShort"),{itemClassName:D.Cj.bgLayer3}),e.abrupt("return",{ok:!1});case 5:return j(!0),r=(null===t||void 0===t?void 0:t.id)||0,e.abrupt("return",N({topicId:C,intentionTagSlug:b,parentCommentId:r,content:d.Oo?(0,v.e9)(m):m,mentionedUserSlugs:jn(m)}).then((function(e){var r,o,i;if(j(!1),!(null===e||void 0===e||null===(r=e.createComment)||void 0===r?void 0:r.ok)||!(null===e||void 0===e||null===(o=e.createComment)||void 0===o?void 0:o.comment))return W.y.error((null===e||void 0===e||null===(i=e.createComment)||void 0===i?void 0:i.error)||c("somethingWentWrong"),{itemClassName:D.Cj.bgLayer3}),{ok:!1};var a=e.createComment.comment,l=Ce.yZ.getState().questionSlug;return W.y.success(c("postSuccess"),{itemClassName:D.Cj.bgLayer3}),yn({comment:a,queryClient:I,key:n,parentComment:t,questionSlug:l,topicId:C}),k(""),P(void 0),s&&s(1),{ok:!0}})));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=wn(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x){e.next=2;break}return e.abrupt("return",{ok:!1});case 2:if(!(d.ob&&m.trim().length<3)){e.next=5;break}return W.y.error(c("tooShort"),{itemClassName:D.Cj.bgLayer3}),e.abrupt("return",{ok:!1});case 5:return j(!0),t=(null===r||void 0===r?void 0:r.id)||0,e.abrupt("return",S({commentId:t,content:m,mentionedUserSlugs:jn(m)}).then((function(e){var r,o,i,a,l;if(j(!1),!(null===e||void 0===e||null===(r=e.updateComment)||void 0===r?void 0:r.ok)||!(null===e||void 0===e||null===(o=e.updateComment)||void 0===o?void 0:o.comment))return W.y.error((null===e||void 0===e||null===(l=e.updateComment)||void 0===l?void 0:l.error)||c("somethingWentWrong"),{itemClassName:D.Cj.bgLayer3}),{ok:!1};var u=(null===(i=e.updateComment.comment)||void 0===i||null===(a=i.post)||void 0===a?void 0:a.content)||"";return gn({content:u,commentId:t,queryClient:I,key:n}),{ok:!0}})));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{onSave:T,onEdit:A,isSaving:x,value:m,onCommentChange:k,intentionTag:b,onIntentionTagChange:P}},kn=t(16496),Pn=t.n(kn),Tn=t(28818),En=function(e){var n=e.mentionInfo,t=e.hideSelf,r=e.onMentionSelect,o=e.topicId,l=(0,a.useRef)(null),u=(0,a.useRef)(null),s=(0,a.useRef)(!1),c=n.top,d=n.left,f=n.right,m=n.visible,v=(0,a.useCallback)((function(e){var n=e.insertedContent;r(n),t()}),[t,r]);return(0,a.useEffect)((function(){var e=l.current;m&&e&&(e.style.top="".concat(c,"px"),e.style.left=void 0!==d?"".concat(d,"px"):"",e.style.right=void 0!==f?"".concat(f,"px"):"")}),[c,d,f,m]),(0,a.useEffect)((function(){var e=s.current;m&&l.current&&u.current&&!e&&u.current.focus(),s.current=m}),[m]),(0,i.jsx)("div",{ref:l,className:(0,P.yI)("absolute box-content rounded-lg z-base-1",{block:m,hidden:!m}),children:m&&(0,i.jsx)(Tn.p,{onBlur:t,onSelect:v,topicId:o})})};!function(e){e.InlineCode="code-inline",e.CodeBlock="code",e.Link="link",e.BulletList="list",e.NumberList="number-list",e.Mention="@",e.Problem="#"}(On||(On={})),function(e){e.User="user",e.Problem="problem"}(In||(In={})),function(e){e.Full="full",e.Slim="slim"}(Nn||(Nn={}));var An=t(54042),Dn=t(73211),qn=t(16287),Rn=t(68120),Ln=t(68033),Bn=t(99534),Mn=(0,t(67474).t)({highlight:!0,gfm:!0,math:!0,html:!0,mcqs:d.Oo,diaporama:d.Oo,imageSize:!0,embedVideos:d.Oo,normalVideo:!0,groupedCode:!0,relAttribute:!0,httpsImagesOnly:!0,premiumOnlyVideo:d.Oo,htmlSanitization:!0,preserveLineBreaks:d.Oo,nodebbImageTransformation:d.Oo,brokenImageHolder:!0,linkSift:d.ob,linkTargetBlank:!0,aliPlayerVideo:d.ob,slides:d.ob,toc:!0}),Hn=(0,a.memo)((function(e){var n=e.content;return n?(0,i.jsx)(Mn,{content:n}):null})),_n=t(20237),Gn=t(71629),Qn=d.Oo?function(){return(0,u.ewH)(c.f6,{},{select:function(e){var n=e.intentionTags;return n||[]}})}:function(){return(0,X.useQuery)(u.ewH.getKey({}),(function(){return[{name:"Feedback",slug:"feedback"},{name:"Tip",slug:"tip"},{name:"Ask Question",slug:"ask-question"}]}))},zn=t(26567),Zn=function(e){var n=e.intentionTag,t=e.setIntentionTag,r=(0,E.$G)("solutions",{keyPrefix:"comments"}).t,o=Qn().data,l=(0,Ce.wG)((function(e){return e.setIntentionTags}));(0,a.useEffect)((function(){return o&&l(o)}),[l,o]);var u=(0,a.useMemo)((function(){return(null!==o&&void 0!==o?o:[]).map((function(e){return{value:e.slug,text:e.name}}))}),[o]),s=(0,a.useMemo)((function(){return u.find((function(e){return e.value===n}))}),[u,n]);return(0,i.jsx)("div",{className:"relative flex items-center space-x-2",children:(0,i.jsx)(Gn.L,{selected:null===s||void 0===s?void 0:s.value,icon:(0,i.jsx)("div",{className:(0,P.yI)(D.Cj.labelBlueStandard,"text-xs font-medium"),children:(0,i.jsx)(zn.h,{})}),iconClassName:"w-4 h-4 ml-0.5",itemsClassName:(0,P.yI)(D.Cj.bgLayer3,"left-0 top-[22px] text-md"),itemClassName:(0,P.yI)("font-normal",D.Cj.label2),itemSelectedClassName:(0,P.yI)("font-medium",D.Cj.label1),btnClassName:(0,P.yI)(D.Cj.bgTransparent,D.Cj.bgTransparentActive,D.Cj.bgTransparentHover,D.Cj.labelBlueStandard,"p-0"),setSelected:function(e){t&&t(e)},items:u,btnText:(0,i.jsx)("div",{className:(0,P.yI)(D.Cj.labelBlueStandard,"text-xs font-medium"),children:s?null===s||void 0===s?void 0:s.text:r("chooseAType")})})})};function $n(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Un(e,n,t,r,o,i,a){try{var l=e[i](a),u=l.value}catch(s){return void t(s)}l.done?n(u):Promise.resolve(u).then(r,o)}function Fn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Vn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Fn(e,n,t[n])}))}return e}function Kn(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function Wn(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(u){l=!0,o=u}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return $n(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $n(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Yn=(0,P.yI)("transition-colors cursor-pointer py-[5px] px-3 rounded-lg"),Jn=function(e){var n=e.rule,t=e.onClick,r=e.icon,o=e.className,l=(0,a.useCallback)((function(){return t(n)}),[t,n]);return(0,i.jsx)("div",{className:(0,P.yI)("flex cursor-pointer items-center rounded-[5px] p-1 text-base",D.Cj.labelGrey7,D.Cj.fill4Hover,o),onClick:l,children:r})},Xn=(0,a.forwardRef)((function(e,n){var t,r,l,u,s=e.onInsertRule,c=e.onCancel,f=e.className,m=e.placeholder,v=e.onSave,p=e.intentionTag,y=e.onIntentionTagChange,b=e.onSaveText,h=e.disabled,g=e.onChange,x=e.value,j=e.defaultValue,C=Kn(e,["onInsertRule","onCancel","className","placeholder","onSave","intentionTag","onIntentionTagChange","onSaveText","disabled","onChange","value","defaultValue"]),w=(0,E.$G)("solutions",{keyPrefix:"comments"}).t,O=(0,a.useRef)(null),I=(0,Ce.wG)((function(e){return e.layoutType})),N=(0,Ce.yZ)((function(e){return e.questionSlug})),k=Wn((0,Dn.O)(!1),2),A=k[0],q=k[1],R=(0,a.useCallback)((function(){N&&!A&&T.d.qdPreviewCommentClick({qd_version:S.AQ,qd_question_slug:N,qd_comment_pos:we(I)}),q.toggle()}),[q,I,N,A]),L=I===Ce.Dk.Discuss&&!A&&!j,B=(0,P.yI)("w-full resize-none bg-transparent p-4 text-md outline-0 outline-none dark:bg-transparent min-h-[80px]",D.Cj.placeholderLabel4,f),M=(0,P.yI)({hidden:A,inherit:!A}),H=h||0===(null===x||void 0===x?void 0:x.trim().length),_=(0,a.useCallback)((t=o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:q.off();case 3:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){Un(i,r,o,a,l,"next",e)}function l(e){Un(i,r,o,a,l,"throw",e)}a(void 0)}))}),[v,q]);return(0,i.jsxs)("div",{className:(0,P.yI)("flex w-full flex-col rounded-[13px]",D.Cj.bgLayer2,D.eq.card),ref:O,children:[A&&(0,i.jsx)("div",{className:(0,P.yI)("min-h-[80px]",B),children:(0,i.jsx)(Hn,{content:x})}),(0,i.jsx)(An.Z,Vn({disabled:h,value:x,onChange:g},C,qn.g,{ref:n,placeholder:m||w("typeCommentHere"),className:(0,P.yI)(B,M)})),(0,i.jsxs)("div",{className:"relative box-content flex h-8 items-end p-4",children:[(0,i.jsxs)("div",{className:"flex flex-1 flex-col",children:[I===Ce.Dk.Discuss&&!A&&L&&d.Oo&&(0,i.jsx)("div",{className:"absolute top-0",children:(0,i.jsx)(Zn,{intentionTag:p,setIntentionTag:y})}),(0,i.jsxs)("div",{className:(0,P.yI)("flex h-8 items-end gap-2",M),children:[(0,i.jsx)(Jn,{onClick:s,icon:(0,i.jsx)(Rn.w,{}),rule:On.InlineCode}),(0,i.jsx)(Jn,{onClick:s,icon:(0,i.jsx)(Ln.J,{}),rule:On.Link}),(0,i.jsx)(Jn,{onClick:s,icon:(0,i.jsx)(Bn.Z,{}),rule:On.Mention})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsx)(_n.z,{disabled:H,className:(0,P.yI)(Yn,D.Cj.label3,(r={},Fn(r,D.Cj.label2Hover,!H),Fn(r,(0,P.yI)(D.Cj.labelBlueStandard,D.Cj.labelBlue3Hover),A),Fn(r,"cursor-not-allowed",H),r),"bg-transparent hover:!bg-transparent dark:bg-transparent"),onClick:R,children:w(A?"editor":"preview")}),c&&(0,i.jsx)(_n.z,{disabled:h,onClick:c,className:(0,P.yI)(Yn,D.Cj.fill2,D.Cj.fill3Hover,"text-label-1 dark:text-white",(l={},Fn(l,"opacity-40",h),Fn(l,"opacty-100",!h),l)),children:w("cancel")}),(0,i.jsx)(_n.z,{disabled:h||0===(null===x||void 0===x?void 0:x.trim().length),onClick:_,className:(0,P.yI)(Yn,D.Cj.bgGreenStandard,D.Cj.bgGreen3Hover,D.Cj.labelWhite,(u={},Fn(u,"opacity-40",h),Fn(u,"opacty-100",!h),u)),children:b||w("comment")})]})]})]})})),et=t(32180);function nt(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function tt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){nt(e,n,t[n])}))}return e}function rt(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var ot=(0,P.yI)("transition-colors cursor-pointer py-[4px] px-3 rounded-[20px]"),it=(0,a.forwardRef)((function(e,n){var t,r,o=e.onCancel,a=e.className,l=e.placeholder,u=e.onSave,s=e.onChange,c=e.onSaveText,d=e.disabled,f=e.value,m=rt(e,["onCancel","className","placeholder","onSave","onChange","onSaveText","disabled","value"]),v=(0,E.$G)("solutions",{keyPrefix:"comments"}).t,p=(0,et.Z)(m,["intentionTag","onInsertRule","onIntentionTagChange"]);return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:(0,i.jsx)(An.Z,tt({},p,qn.g,{ref:n,disabled:d,value:f,onChange:s,placeholder:l||v("typeCommentHere"),className:(0,P.yI)("w-full resize-none rounded-[13px] bg-transparent p-2.5 text-sm outline-none dark:bg-transparent",D.Cj.bgLayer2,D.eq.card,D.Cj.placeholderLabel4,a),rows:1}))}),(0,i.jsx)("div",{className:"mt-2 ml-2 flex",children:(0,i.jsxs)("div",{className:"flex flex-1 items-center justify-end space-x-4",children:[(0,i.jsx)(_n.z,{onClick:o,disabled:d,className:(0,P.yI)(ot,D.Cj.fill3,D.Cj.label2,(t={},nt(t,"opacity-40",d),nt(t,"opacty-100",!d),t)),children:v("cancel")}),(0,i.jsx)(_n.z,{onClick:u,disabled:d||0===(null===f||void 0===f?void 0:f.trim().length),className:(0,P.yI)(ot,D.Cj.bgGreenStandard,D.Cj.bgGreen3Hover,D.Cj.labelWhite,(r={},nt(r,"opacity-40",d),nt(r,"opacty-100",!d),r)),children:c||v("comment")})]})})]})})),at=t(61757),lt=new Map([[On.InlineCode,function(e){return"`".concat(e,"`")}],[On.CodeBlock,function(e){return"```".concat(e,"```")}],[On.Link,function(e){return"[".concat(e,"](").concat(e,")")}]]),ut=function(e){var n=e.rule,t=e.textareaEle,r=e.defaultTemplate,o=at.Mf(t),i=r;if(o&&function(e){return!!lt.has(e)}(n)){var a=function(e){return lt.get(e)}(n);i=a?a(o):r}at.$T(t,i)};function st(e,n,t,r,o,i,a){try{var l=e[i](a),u=l.value}catch(s){return void t(s)}l.done?n(u):Promise.resolve(u).then(r,o)}function ct(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var dt=function(e){var n=e.className,t=e.variation,r=void 0===t?Nn.Full:t,l=e.disabled,u=void 0!==l&&l,s=e.value,c=e.onSave,d=e.onSaveText,f=e.topicId,m=e.placeholder,v=e.defaultValue,p=e.innerRef,y=e.onCancel,b=e.intentionTag,h=e.onIntentionTagChange,g=ct(e,["className","variation","disabled","value","onSave","onSaveText","topicId","placeholder","defaultValue","innerRef","onCancel","intentionTag","onIntentionTagChange"]),x=(0,a.useCallback)((function(e){h&&h(e)}),[h]),j=(0,E.$G)("solutions",{keyPrefix:"comments"}).t,C=(0,a.useState)({top:0,left:0,visible:!1}),w=C[0],O=C[1],I=p,N=(0,a.useRef)((v||"").length),S=(0,a.useCallback)((function(e){switch(e){case On.InlineCode:return" `".concat(j("mdRules.inlineCode"),"your inline code...`");case On.CodeBlock:return"\n```\n".concat(j("mdRules.codeBlock"),"\n```\n");case On.Link:return"[".concat(j("mdRules.link"),"](").concat(j("mdRules.href"),")");case On.Mention:return" @";default:return""}}),[j]),k=function(){var e=I.current;e&&(N.current=e.selectionEnd)},P=function(){O({visible:!1,top:0,left:0})},T=function(){var e=I.current;if(e){var n=Pn()(e,N.current),t=n.top,r=n.left,o=Ce.yZ.getState().containerWidth||0;O(r+250+5+16>o?{top:t+20,right:0,visible:!0}:{top:t-5,left:r+5,visible:!0})}},A=function(){var e=I.current;e&&(e.focus(),e.selectionEnd=N.current)},D=function(e){switch(e){case Nn.Full:return Xn;case Nn.Slim:return it;default:return Xn}}(r);return(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(D,{value:s,disabled:u,onInsertRule:function(e){var n=I.current;if(n){var t=S(e);ut({rule:e,textareaEle:n,defaultTemplate:t}),e===On.Mention?setTimeout((function(){return T()}),0):A()}},className:n,ref:I,placeholder:m,onChange:function(e){!function(e){g.onChange(e)}(e.currentTarget.value)},onFocus:function(){P()},onBlur:function(){k()},innerRef:p,onKeyDown:function(e){var n,t=e.key,r=e.metaKey;setTimeout((n=o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(),e.t0=t,e.next=e.t0===On.Mention?4:"Enter"===e.t0?6:11;break;case 4:return T(),e.abrupt("break",13);case 6:if(r){e.next=8;break}return e.abrupt("break",13);case 8:return e.next=10,c();case 10:return e.abrupt("break",13);case 11:return w.visible&&P(),e.abrupt("break",13);case 13:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(e){st(i,r,o,a,l,"next",e)}function l(e){st(i,r,o,a,l,"throw",e)}a(void 0)}))}),18)},defaultValue:v,onCancel:y,onSave:c,onSaveText:d,intentionTag:b,onIntentionTagChange:x}),(0,i.jsx)(En,{mentionInfo:w,topicId:f,hideSelf:function(){P(),A()},onMentionSelect:function(e){var n,t,r=I.current;r&&(r.selectionStart=r.selectionEnd-1,n=e,t=r,at.$T(t,n))}})]})};function ft(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function mt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){ft(e,n,t[n])}))}return e}var vt=function(e){return(0,i.jsx)("div",{children:(0,i.jsx)(dt,mt({},e))})},pt=t(111),yt=t(23893);function bt(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var ht=function(e){var n=e.content,t=(0,E.$G)("solutions",{keyPrefix:"comments"}).t,r=(0,a.useState)(!1),o=r[0],l=r[1],u=(0,a.useState)(null),s=u[0],c=u[1],d=(0,a.useState)(!1),f=d[0],m=d[1];(0,U.L)((function(){setTimeout((function(){m(((null===s||void 0===s?void 0:s.scrollHeight)||0)>=140)}),1)}),[s,n]);var v,p,y=(0,a.useMemo)((function(){return f&&!o}),[f,o]),b=(0,a.useCallback)((function(){m(((null===s||void 0===s?void 0:s.scrollHeight)||0)>=140)}),[null===s||void 0===s?void 0:s.scrollHeight]),h=(0,a.useMemo)((function(){return(0,pt.Z)(b,250)}),[b]),g=(0,yt.a)(s).width;return(0,a.useEffect)((function(){g&&h()}),[g,h]),(0,i.jsx)("div",{className:"flex flex-col items-start",children:(0,i.jsxs)("div",{className:(0,P.yI)("relative w-full",(v={},bt(v,"overflow-hidden",y),bt(v,"block",!y),bt(v,"max-h-[140px]",!o),bt(v,"max-h-full",o),v)),children:[(0,i.jsx)("div",{className:"px-2.5",ref:c,children:(0,i.jsx)(Hn,{content:n})}),(0,i.jsx)("div",{className:(0,P.yI)("cursor-pointer",(p={},bt(p,"absolute top-0 flex h-full w-full items-end bg-gradient-to-t from-[#F2F2F2] dark:from-[#393939]",y),bt(p,"hidden",!y),p)),onClick:function(){return l(!0)},children:(0,i.jsx)("div",{className:(0,P.yI)("flex w-full items-center justify-center text-md",D.Cj.label2),children:t("readMore")})})]})})},gt=t(34302),xt=t(47400),jt=t(54787);function Ct(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function wt(e,n,t,r,o,i,a){try{var l=e[i](a),u=l.value}catch(s){return void t(s)}l.done?n(u):Promise.resolve(u).then(r,o)}function Ot(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){wt(i,r,o,a,l,"next",e)}function l(e){wt(i,r,o,a,l,"throw",e)}a(void 0)}))}}function It(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Nt(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(u){l=!0,o=u}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return Ct(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ct(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var St=function(e){var n,t,r,l=e.parentComment,u=e.comment,s=e.updateConfirmModal,c=e.updateReportModal,f=e.updateMoveToSolutionsModal,m=(0,E.$G)("solutions").t,v=(0,Ce.wG)((function(e){return e.highlightedCommentId})),p=(0,Ce.wG)((function(e){return e.setHighlightedCommentId})),y=(0,Ce.wG)((function(e){return e.layoutType})),h=(0,Ce.yZ)((function(e){return e.questionSlug})),g=v===u.id,x=(0,a.useRef)(null);(0,U.L)((function(){g&&x.current&&x.current.scrollIntoView()}),[g]),(0,U.L)((function(){if(v){var e=function(){return p()};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}}),[v,p]);var j=G({commentId:l.id}),C=Sn({queryKey:u.queryKey,existingComment:u}),w=C.value,O=C.onEdit,N=C.onCommentChange,k=C.isSaving,A=(0,a.useMemo)((function(){return"[@".concat(u.realName||u.username,"](").concat(J.Hb.profile((null===u||void 0===u?void 0:u.userSlug)||u.username),") ")}),[u.realName,u.username,u.userSlug]),q=Sn({queryKey:j,parentComment:l,initialContent:A}),R=q.value,L=q.onSave,M=q.onCommentChange,H=q.isSaving,_=(0,a.useRef)(null),Q=(0,a.useState)(!1),V=Q[0],Y=Q[1],X=Nt((0,K.X)(),2),ee=X[0],ne=X[1];(0,a.useEffect)((function(){ee(V?null:x.current),V&&$(_.current)}),[ee,V]);var te=(0,a.useCallback)(Ot(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O().then((function(e){var n=e.ok;return n&&Y(!1),{ok:n}})));case 1:case"end":return e.stop()}}),e)}))),[O]),re=(0,a.useState)(!1),oe=re[0],ie=re[1],ae=(0,a.useRef)(null);(0,a.useEffect)((function(){return oe?$(ae.current):void 0}),[oe]);var le,ue=(0,a.useCallback)((function(){return Y(!0)}),[]),se=(0,a.useCallback)((function(){return Y(!1)}),[]),ce=(0,F.r)().isSignedIn,de=(0,a.useCallback)((function(){ce?(ie((function(e){return!e})),!oe&&h&&T.d.qdReplyCommentClick({qd_version:S.AQ,qd_question_slug:h,qd_comment_pos:we(y),qd_comment_type:ye.Reply})):W.y.error(m("common:loginRequired"))}),[ce,m,h,oe,y]),fe=(0,a.useCallback)((function(){return ie(!1)}),[]),me=z({commentId:l.id},{enabled:!0}).refetch,ve=function(){var e=Ot(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:return(n=e.sent).ok&&(ie(!1),me(),h&&T.d.qdSubmitCommentClick({qd_version:S.AQ,qd_question_slug:h,qd_comment_pos:we(y),qd_comment_type:ye.Reply})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=(0,a.useCallback)((function(){h&&T.d.qdShareCommentClick({qd_version:S.AQ,qd_question_slug:h,qd_comment_pos:we(y),qd_comment_type:ye.Reply})}),[h,y]),be=d.Oo?(0,P.yI)((It(le={},"opacity-1",!u.isHidden&&u.status!==b.$4.Deleted),It(le,"opacity-40",u.isHidden||u.status===b.$4.Deleted),le)):"",he=(0,Ce.yZ)((function(e){return e.containerWidth})),ge=!!he&&he<Ft,xe=!he||y!==Ce.Dk.Discuss||Ft<he,je=(0,Ce.wG)((function(e){return e.isModerator})),Oe=!(u.status===b.$4.Deleted)&&(u.isOwnPost&&!je),Ne=(0,I.U)().data,Se=(null===Ne||void 0===Ne||null===(n=Ne.userStatus)||void 0===n?void 0:n.name)||(null===Ne||void 0===Ne||null===(t=Ne.userStatus)||void 0===t?void 0:t.username)||"",ke=(null===Ne||void 0===Ne||null===(r=Ne.userStatus)||void 0===r?void 0:r.avatar)||"",Pe="max-w-[24px] max-h-[24px] min-h-[24px] min-w-[24px] h-6 w-6",Ee=(0,Ce.wG)((function(e){return e.topicId})),De=(0,Z.v)(u.username);return V?(0,i.jsxs)("div",{className:"flex w-full gap-2 px-3 pt-4 pb-2",children:[(0,i.jsx)(gt.D,{userAvatar:u.userAvatar,username:u.username,imgClassName:Pe}),(0,i.jsx)("div",{className:"w-full",children:(0,i.jsx)(vt,{value:w,onSave:te,defaultValue:u.content,disabled:k,innerRef:_,topicId:Ee||0,onChange:N,onSaveText:String(m("comments.edit")),onCancel:se,variation:Nn.Slim})})]}):(0,i.jsxs)("div",{className:"flex flex-col",ref:x,children:[(0,i.jsxs)("div",{className:(0,P.yI)("flex w-full px-3 pt-4 pb-2 transition-[background] duration-500",It({},(0,P.yI)(D.Cj.bgBlue0,"rounded-lg"),g)),children:[(0,i.jsx)(gt.D,{userAvatar:u.userAvatar,username:u.username,imgClassName:(0,P.yI)("mr-2",Pe,be)}),(0,i.jsxs)("div",{className:"flex w-full min-w-0 flex-col",children:[(0,i.jsxs)("div",{className:(0,P.yI)("flex w-full flex-col gap-1 overflow-hidden rounded-[13px]",D.Cj.label2,D.Cj.fill3),children:[(0,i.jsxs)("div",{className:(0,P.yI)("mt-2.5 flex w-full items-center gap-2 px-2.5",be),children:[(0,i.jsx)(xt.S,{username:u.username,badgeIcon:u.activeBadgeIcon,badgeName:u.activeBadgeName,badgeClassName:(0,P.yI)("ml-1"),realName:u.realName,reputation:u.reputation,userClassName:(0,P.yI)(D.Cj.label1,"text-xs font-medium")}),(0,i.jsx)("div",{children:(0,i.jsx)(un,{status:u.status,isHidden:u.isHidden})}),(0,i.jsxs)("div",{className:"flex flex-1 justify-end space-x-2",children:[d.ob&&u.ipRegion&&!ge&&(0,i.jsxs)("span",{className:(0,P.yI)("shrink-0 whitespace-nowrap text-[11px] leading-[13px]",D.Cj.label3),children:[" ","\u53d1\u5e03\u4e8e ",u.ipRegion]}),(0,i.jsx)(jt.c,{timestamp:u.creationDate,useCalendarIcon:!1,createdAtClassName:(0,P.yI)("justify-end",{"!min-w-fit":d.ob&&!!u.ipRegion}),formattedDateClassName:(0,P.yI)(D.Cj.label3,"text-[11px] leading-[13px]")}),d.ob&&De&&u.status===b.$4.Pending&&(0,i.jsx)("div",{className:(0,P.yI)(D.Cj.label3,"shrink-0 whitespace-nowrap text-[11px] leading-[13px]"),children:"\u5ba1\u6838\u4e2d"})]})]}),(0,i.jsx)("div",{className:(0,P.yI)(D.Cj.label1,"mb-2.5 text-xs",be),children:(0,i.jsx)(ht,{content:u.content})})]}),(0,i.jsx)("div",{className:(0,P.yI)("mt-4 flex items-center gap-4 text-xs",D.Cj.label2),children:(0,i.jsxs)("div",{className:(0,P.yI)("flex items-center gap-4",be),children:[(0,i.jsx)(Ie,{comment:u,isMyself:De,trackingCommentType:ye.Reply}),(0,i.jsx)(Te,{showLabel:xe,onClick:de}),(0,i.jsxs)(B.u,{className:"flex items-center gap-4 text-xs",show:ne,enter:"transition ease-out duration-200",leave:"transition ease-in duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:[(0,i.jsx)(Ae,{showLabel:xe,isOwnPost:u.isOwnPost,onClick:ue}),(0,i.jsx)(Be,{showLabel:xe,commentId:u.id,onShareClick:pe}),Oe&&(0,i.jsx)(dn,{comment:u,parentComment:l,updateModal:s}),(0,i.jsx)(an,{comment:u,isPinnable:!1,updateConfirmModal:s,updateReportModal:c,updateMoveToSolutionsModal:f})]})]})})]})]}),oe&&(0,i.jsxs)("div",{className:"mt-4 flex px-3",children:[(0,i.jsx)(gt.D,{userAvatar:ke,username:Se,imgClassName:(0,P.yI)("mr-2 max-w-[24px] max-h-[24px] min-h-[24px] min-w-[24px] h-6 w-6")}),(0,i.jsx)("div",{className:"flex-1",children:(0,i.jsx)(vt,{value:R,onSave:ve,disabled:H,innerRef:ae,topicId:Ee||0,onChange:M,onCancel:fe,variation:Nn.Slim})})]})]})},kt=t(12625),Pt=t(91052),Tt=function(){return(0,i.jsx)("div",{className:(0,P.yI)("flex h-full w-full"),children:(0,i.jsxs)(kt.O,{className:"flex w-full flex-col space-y-5",children:[(0,i.jsxs)("div",{className:"flex space-x-3",children:[(0,i.jsx)("div",{className:"h-8",children:(0,i.jsx)(Pt.a,{className:"!h-full w-8 rounded-full"})}),(0,i.jsxs)("div",{className:"flex w-[80px] flex-col space-y-2",children:[(0,i.jsx)(Pt.a,{className:"h-4 w-3/4"}),(0,i.jsx)(Pt.a,{className:"h-[14px] w-full"})]})]}),(0,i.jsxs)("div",{className:"flex flex-col space-y-2.5",children:[(0,i.jsx)(Pt.a,{className:"h-4 w-full"}),(0,i.jsx)(Pt.a,{className:"h-4 w-1/3"})]})]})})},Et=function(){return(0,i.jsx)("div",{className:(0,P.yI)("flex h-full w-full"),children:(0,i.jsxs)(kt.O,{className:"flex w-full",children:[(0,i.jsxs)("div",{className:"flex w-full space-x-3",children:[(0,i.jsx)("div",{className:"h-6",children:(0,i.jsx)(Pt.a,{className:"!h-full w-6 rounded-full"})}),(0,i.jsxs)("div",{className:"flex flex-1 flex-col space-y-2",children:[(0,i.jsxs)("div",{className:"flex w-full justify-between",children:[(0,i.jsx)(Pt.a,{className:"h-3 w-1/3"}),(0,i.jsx)(Pt.a,{className:"h-3 w-[80px]"})]}),(0,i.jsx)(Pt.a,{className:"h-[12px] w-full"}),(0,i.jsx)(Pt.a,{className:"h-[12px] w-2/3"})]})]}),(0,i.jsxs)("div",{className:"flex flex-col space-y-2.5",children:[(0,i.jsx)(Pt.a,{className:"h-3 w-full"}),(0,i.jsx)(Pt.a,{className:"h-3 w-1/3"})]})]})})},At=function(e){var n=e.itemsCount,t=Array(n).fill(null);return(0,i.jsx)("div",{className:"flex flex-col gap-8 px-5 py-3",children:t.map((function(e,n){return(0,i.jsx)(Tt,{},n)}))})};function Dt(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var qt=function(e){var n=e.parentComment,t=e.highlightedReplyId,r=e.hideReplies,o=e.updateConfirmModal,l=e.updateReportModal,u=e.updateMoveToSolutionsModal,s=(0,a.useState)(5),c=s[0],f=s[1],m=(0,Ce.yZ)((function(e){return e.questionSlug})),v=z({commentId:n.id,pageNo:1,numPerPage:c,upToReplyId:t}),p=v.isLoading,y=v.data,b=(null!==y&&void 0!==y?y:{}).comments;(0,a.useEffect)((function(){return f((function(e){return(null===b||void 0===b?void 0:b.length)?b.length:e}))}),[null===b||void 0===b?void 0:b.length]);var h,g=(0,E.$G)("solutions",{keyPrefix:"comments"}).t,x=((null===y||void 0===y?void 0:y.total)||0)>c,j=(0,a.useCallback)((function(){x&&(f(c+5),m&&T.d.qdExpandCommentClick({qd_version:S.AQ,qd_question_slug:m}))}),[c,x,m]),C=(0,a.useCallback)((function(){r(),f(5)}),[r]),w=null!==(h=null===b||void 0===b?void 0:b.map((function(e){return e.userSlug})))&&void 0!==h?h:[],O=(0,q.E)(w).data,I=(0,a.useMemo)((function(){return d.Oo?b:null===b||void 0===b?void 0:b.map((function(e){var n,t,r=null!==(t=null===(n=e.userSlug)||void 0===n?void 0:n.toLowerCase())&&void 0!==t?t:"";return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Dt(e,n,t[n])}))}return e}({},e,null===O||void 0===O?void 0:O[r])}))}),[b,O]);return p?(0,i.jsx)("div",{className:"mx-5",children:(0,i.jsx)(Et,{})}):(0,i.jsxs)("div",{className:"flex flex-col",children:[I&&I.map((function(e){return(0,i.jsx)(St,{parentComment:n,comment:e,updateConfirmModal:o,updateReportModal:l,updateMoveToSolutionsModal:u},e.id)})),(0,i.jsxs)("div",{className:"flex w-full justify-between px-3 pt-2",children:[(0,i.jsx)("div",{onClick:j,className:(0,P.yI)("cursor-pointer text-xs font-medium",D.Cj.labelBlueStandard,{flex:x,invisible:!x}),children:g("showMoreReplies")}),(0,i.jsx)("div",{onClick:C,className:(0,P.yI)("group cursor-pointer pb-3 pr-3"),children:(0,i.jsx)(je.E,{icon:ln.S,label:String(g("hide")),labelClassName:(0,P.yI)(D.Cj.label1GroupHover),iconClassName:(0,P.yI)("w-4 h-4",D.Cj.label1GroupHover)})})]})]})};function Rt(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Lt=function(e){var n=e.content,t=(0,E.$G)("solutions",{keyPrefix:"comments"}).t,r=(0,a.useState)(!1),o=r[0],l=r[1],u=(0,a.useState)(null),s=u[0],c=u[1],d=(0,a.useState)(!1),f=d[0],m=d[1];(0,U.L)((function(){setTimeout((function(){m(((null===s||void 0===s?void 0:s.scrollHeight)||0)>=230)}),1)}),[s,n]);var v,p,y=(0,a.useMemo)((function(){return f&&!o}),[f,o]),b=(0,a.useCallback)((function(){m(((null===s||void 0===s?void 0:s.scrollHeight)||0)>=230)}),[null===s||void 0===s?void 0:s.scrollHeight]),h=(0,a.useMemo)((function(){return(0,pt.Z)(b,250)}),[b]),g=(0,yt.a)(s).width;return(0,a.useEffect)((function(){g&&h()}),[g,h]),(0,i.jsxs)("div",{className:(0,P.yI)("relative",(v={},Rt(v,"overflow-hidden",y),Rt(v,"block",!y),Rt(v,"max-h-[230px]",!o),Rt(v,"max-h-full",o),v)),children:[(0,i.jsx)("div",{ref:c,children:(0,i.jsx)(Hn,{content:n})}),(0,i.jsx)("div",{className:(0,P.yI)("cursor-pointer",(p={},Rt(p,"absolute top-0 flex h-full w-full items-end bg-gradient-to-t from-layer-1 dark:from-dark-layer-1",y),Rt(p,"hidden",!y),p)),onClick:function(){return l(!0)},children:(0,i.jsx)("div",{className:(0,P.yI)("flex w-full items-center justify-center text-md",D.Cj.label1),children:t("readMore")})})]})},Bt=t(48838);function Mt(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Ht=a.forwardRef((function(e,n){return(0,i.jsx)("svg",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Mt(e,n,t[n])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e,{children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M12.93 3.586a2 2 0 012.829 0l4.849 4.849a2 2 0 010 2.828l-4.497 4.496a2 2 0 00-.558 1.086l-.586 3.512a1 1 0 01-1.693.543L8.99 16.617l-3.879 3.879a1 1 0 01-1.414-1.415l3.879-3.878-4.283-4.283a1 1 0 01.543-1.694l3.512-.585a2 2 0 001.085-.559l4.497-4.496z",clipRule:"evenodd"})}))})),_t=function(e){var n=e.pinnedBy,t=(0,E.$G)("solutions",{keyPrefix:"comments"}).t;return(0,i.jsx)("div",{className:"w-fit",children:(0,i.jsx)(Bt.e,{title:t("pinnedBy",{pinnedBy:n}),showArrow:!1,children:(0,i.jsxs)("div",{className:(0,P.yI)(D.Cj.labelBlueStandard,"flex items-center space-x-1.5 text-xs font-medium"),children:[(0,i.jsx)(Ht,{}),(0,i.jsx)("span",{children:t("pinned")})]})})})},Gt=function(e){var n,t=e.type,r=(0,Ce.wG)((function(e){return e.tagNamesMap}));return(0,i.jsx)("div",{className:"inline-block",children:(0,i.jsx)("div",{className:(0,P.yI)(D.Cj.fill3,D.Cj.label2,"rounded-[38px] py-0.5 px-2.5 text-xs font-medium"),children:null!==(n=r.get(t))&&void 0!==n?n:"Unknown"})})};function Qt(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function zt(e,n,t,r,o,i,a){try{var l=e[i](a),u=l.value}catch(s){return void t(s)}l.done?n(u):Promise.resolve(u).then(r,o)}function Zt(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){zt(i,r,o,a,l,"next",e)}function l(e){zt(i,r,o,a,l,"throw",e)}a(void 0)}))}}function $t(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Ut(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(u){l=!0,o=u}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return Qt(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Qt(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ft=475,Vt=function(e){var n,t,r,l=e.comment,u=e.updateConfirmModal,s=e.updateReportModal,c=e.updateMoveToSolutionsModal,f=(0,E.$G)("solutions").t,m=(0,Z.v)(l.username),v=(0,a.useState)(!1),p=v[0],y=v[1],h=(0,a.useRef)(null),g=(0,a.useRef)(null),x=(0,a.useRef)(null),j=(0,Ce.wG)((function(e){return e.topicId})),C=(0,a.useState)(!1),w=C[0],O=C[1],N=Ut((0,K.X)(),2),k=N[0],A=N[1];(0,a.useEffect)((function(){k(w?null:x.current),w&&$(h.current)}),[k,w]);var q=(0,Ce.wG)((function(e){return e.highlightedCommentId})),R=(0,Ce.wG)((function(e){return e.setHighlightedCommentId})),L=(0,Ce.wG)((function(e){return e.parentOfHighlightedCommentId})),M=(0,Ce.wG)((function(e){return e.layoutType})),H=(0,Ce.yZ)((function(e){return e.questionSlug})),_=q===l.id,Q=L===l.id,z=q!==l.id?q:void 0,Y=(0,I.U)().data,J=(null===Y||void 0===Y||null===(n=Y.userStatus)||void 0===n?void 0:n.name)||(null===Y||void 0===Y||null===(t=Y.userStatus)||void 0===t?void 0:t.username)||"",X=(null===Y||void 0===Y||null===(r=Y.userStatus)||void 0===r?void 0:r.avatar)||"";(0,U.L)((function(){_&&g.current&&g.current.scrollIntoView()}),[_]),(0,U.L)((function(){if(q){Q&&y(!0);var e=function(){return R()};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}}),[q,Q,R]);var ee=(0,a.useState)(!1),ne=ee[0],te=ee[1];(0,a.useEffect)((function(){return ne?$(h.current):void 0}),[ne]);var re,oe=(0,a.useCallback)((function(){y(!p),H&&(!p&&T.d.qdShowRepliesClick({qd_version:S.AQ,qd_question_slug:H}),p&&T.d.qdHideRepliesClick({qd_version:S.AQ,qd_question_slug:H}))}),[p,H]),ie=(0,F.r)().isSignedIn,ae=(0,a.useCallback)((function(){ie?(te((function(e){return!e})),!ne&&H&&T.d.qdReplyCommentClick({qd_version:S.AQ,qd_question_slug:H,qd_comment_pos:we(M),qd_comment_type:ye.Comment})):W.y.error(f("common:loginRequired"))}),[ie,f,H,M,ne]),le=(0,a.useCallback)((function(){y(!1),H&&T.d.qdHideRepliesClick({qd_version:S.AQ,qd_question_slug:H})}),[H]),ue=(0,a.useCallback)((function(){return te(!1)}),[]),se=(0,a.useCallback)((function(){return O(!1)}),[]),ce=G({commentId:l.id}),de=Sn({queryKey:ce,parentComment:l}),fe=de.value,me=de.onSave,ve=de.onCommentChange,pe=de.isSaving,be=Sn({queryKey:l.queryKey,existingComment:l}),he=be.value,ge=be.onEdit,xe=be.onCommentChange,je=be.isSaving,Oe=function(){var e=Zt(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me();case 2:return(n=e.sent).ok&&(y(!0),te(!1),H&&T.d.qdSubmitCommentClick({qd_version:S.AQ,qd_question_slug:H,qd_comment_pos:we(M),qd_comment_type:ye.Reply})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=(0,a.useCallback)((function(){H&&T.d.qdShareCommentClick({qd_version:S.AQ,qd_question_slug:H,qd_comment_pos:we(M),qd_comment_type:ye.Comment})}),[H,M]),ke=(0,a.useCallback)((function(){return O(!0)}),[]),Pe=function(){var e=Zt(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ge().then((function(e){var n=e.ok;return n&&O(!1),{ok:n}})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ee=d.Oo?(0,P.yI)(($t(re={},"opacity-1",!l.isHidden&&l.status!==b.$4.Deleted),$t(re,"opacity-40",l.isHidden||l.status===b.$4.Deleted),re)):"",De=(0,Ce.yZ)((function(e){return e.containerWidth})),qe="number"===typeof De&&De<Ft,Re=(0,V.tq)(),Le=M===Ce.Dk.Discuss?!qe:!Re,Me=(0,Ce.wG)((function(e){return e.isModerator})),He=!(l.status===b.$4.Deleted)&&(l.isOwnPost&&!Me);return w?(0,i.jsx)("div",{className:"mx-2 p-3",children:(0,i.jsx)(vt,{value:he,onSave:Pe,onSaveText:f("comments.edit"),defaultValue:l.content,disabled:je,innerRef:h,topicId:j||0,onChange:xe,onCancel:se,variation:Nn.Full})}):(0,i.jsxs)("div",{className:(0,P.yI)("mx-2 transition-[background] duration-500",$t({},(0,P.yI)(D.Cj.bgBlue0,"rounded-lg"),_)),ref:g,children:[(0,i.jsxs)("div",{className:(0,P.yI)("flex w-full flex-col p-3"),ref:x,children:[(0,i.jsxs)("div",{className:(0,P.yI)("flex w-full items-center gap-3",Ee),children:[(0,i.jsx)(gt.D,{userAvatar:l.userAvatar,username:l.username}),(0,i.jsxs)("div",{className:"flex w-full",children:[(0,i.jsxs)("div",{className:"flex flex-col",children:[l.pinned&&(0,i.jsx)(_t,{pinnedBy:l.pinnedBy.username}),(0,i.jsxs)("div",{className:"flex w-full items-center gap-2",children:[(0,i.jsx)(xt.S,{realName:l.realName,username:l.username,badgeIcon:l.activeBadgeIcon,badgeName:l.activeBadgeName,reputation:l.reputation,badgeClassName:(0,P.yI)("h-4 w-4 ml-1"),userClassName:(0,P.yI)(D.Cj.label1,"font-medium",{"text-[14px]":!d.Oo,"text-base":d.Oo})}),(0,i.jsx)("div",{className:(0,P.yI)("ml-2"),children:d.Oo&&(0,i.jsx)(un,{status:l.status,isHidden:l.isHidden})})]})]}),(0,i.jsxs)("div",{className:"flex flex-1 items-center justify-end gap-2",children:[!d.Oo&&!!l.ipRegion&&!qe&&(0,i.jsxs)("span",{className:(0,P.yI)("whitespace-nowrap text-xs leading-[13px]",D.Cj.label3),children:["\u53d1\u5e03\u4e8e ",l.ipRegion]}),l.isEdited&&!qe&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:(0,P.yI)("h-[3px] w-[3px] rounded",D.Cj.fillGray5)}),(0,i.jsx)("span",{className:(0,P.yI)("text-xs leading-[13px]",D.Cj.label3),children:f("comments.edited")}),(0,i.jsx)("span",{className:(0,P.yI)("h-[3px] w-[3px] rounded",D.Cj.fillGray5)})]}),(0,i.jsx)(jt.c,{timestamp:l.creationDate,useCalendarIcon:!1,createdAtClassName:(0,P.yI)("justify-end",{"!min-w-fit":!d.Oo&&!!l.ipRegion}),formattedDateClassName:(0,P.yI)(D.Cj.label3,"text-[11px] leading-[13px]")}),d.ob&&m&&l.status===b.$4.Pending&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:(0,P.yI)("h-[3px] w-[3px] rounded",D.Cj.fillGray5)}),(0,i.jsx)("div",{className:(0,P.yI)(D.Cj.label3,"whitespace-nowrap text-[11px] leading-[13px]"),children:"\u5ba1\u6838\u4e2d"})]})]})]})]}),(0,i.jsxs)("div",{className:(0,P.yI)("mt-2 flex w-full flex-col",D.Cj.label2),children:[(0,i.jsx)("div",{className:(0,P.yI)(Ee),children:(0,i.jsx)(Lt,{content:l.content})}),l.intentionTag&&(0,i.jsx)("div",{className:"mt-2.5",children:(0,i.jsx)(Gt,{type:l.intentionTag})}),(0,i.jsx)("div",{className:"mt-4 flex items-center gap-4",children:(0,i.jsxs)("div",{className:(0,P.yI)("flex items-center gap-4 text-xs",Ee),children:[(0,i.jsx)(Ie,{comment:l,isMyself:m,trackingCommentType:ye.Comment}),(0,i.jsx)(Se,{onClick:oe,showLabel:Le,showReplies:p,repliesNum:l.numChildren}),(0,i.jsx)(Te,{showLabel:Le,onClick:ae}),(0,i.jsxs)(B.u,{className:"flex items-center gap-4 text-xs",show:A||Re,enter:"transition ease-out duration-200",leave:"transition ease-in duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:[(0,i.jsxs)("div",{className:(0,P.yI)("flex items-center gap-4",Ee),children:[(0,i.jsx)(Ae,{showLabel:Le,isOwnPost:l.isOwnPost,onClick:ke}),(0,i.jsx)(Be,{showLabel:Le,commentId:l.id,onShareClick:Ne}),He?(0,i.jsx)(dn,{comment:l,updateModal:u,topicId:null!==j&&void 0!==j?j:void 0}):null]}),(0,i.jsx)(an,{comment:l,updateConfirmModal:u,updateReportModal:s,updateMoveToSolutionsModal:c})]})]})})]})]}),ne&&(0,i.jsxs)("div",{className:"mt-3 flex px-3",children:[(0,i.jsx)(gt.D,{userAvatar:X,username:J,imgClassName:(0,P.yI)("mr-2 max-w-[24px] max-h-[24px] min-h-[24px] min-w-[24px] h-6 w-6")}),(0,i.jsx)("div",{className:"flex-1",children:(0,i.jsx)(vt,{value:fe,onSave:Oe,disabled:pe,innerRef:h,topicId:j||0,onChange:ve,onCancel:ue,variation:Nn.Slim})})]}),p&&(0,i.jsx)(qt,{parentComment:l,highlightedReplyId:z,hideReplies:le,updateConfirmModal:u,updateReportModal:s,updateMoveToSolutionsModal:c})]})},Kt=t(26421);function Wt(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Yt=function(e){var n=e.commentId,t=e.queryClient,r=e.key;ie({commentId:n,changeComment:function(e){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Wt(e,n,t[n])}))}return e}({},e,{status:b.$4.Deleted})},queryClient:t,key:r})},Jt=(d.Oo,Yt),Xt=d.Oo?function(){return(0,u.oOM)(c.f6)}:function(){return(0,X.useMutation)((function(e){e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));return Promise.resolve({migrateDiscussionToSolution:{ok:!0,topic:{id:0,title:""}}})}))},er=t(4271),nr=t(6848),tr=t(40991),rr=function(e){var n=e.visible,t=e.onCancel,r=e.comment,o=(0,E.$G)("solutions",{keyPrefix:"comments"}).t,l=(0,X.useQueryClient)(),u=(0,a.useState)(""),s=u[0],c=u[1],d=Xt(),f=d.isLoading,m=d.mutateAsync,v=0===s.trim().length||f;(0,a.useEffect)((function(){n&&c("")}),[n]);var p=(0,a.useCallback)((function(e){var n=e.currentTarget.value||"";c(n)}),[c]),y=(0,a.useCallback)((function(){r&&m({commentId:r.id,title:s}).then((function(e){var n,i,a;if(!(null===e||void 0===e||null===(n=e.migrateDiscussionToSolution)||void 0===n?void 0:n.ok))return W.y.error(o("genericError"),{itemClassName:D.Cj.bgLayer3});Jt({commentId:r.id,key:r.queryKey,queryClient:l});var u,s=Ce.yZ.getState().questionSlug,c=null===(i=e.migrateDiscussionToSolution.topic)||void 0===i?void 0:i.id,d=(0,Kt.o)(null!==(u=null===(a=e.migrateDiscussionToSolution.topic)||void 0===a?void 0:a.title)&&void 0!==u?u:"topic");s&&c&&d&&window.open(J.Hb.solutions(s,c,d),"_blank"),W.y.success(o("moveSuccess"),{itemClassName:D.Cj.bgLayer3}),t()}))}),[t,o,m,r,s,l]);return(0,i.jsxs)(nr.u,{visible:n,onCancel:t,closable:!1,maskClosable:!0,className:(0,P.yI)("w-[480px] p-0 text-base",D.Cj.bgLayer2),children:[(0,i.jsxs)("div",{className:(0,P.yI)("flex items-center border-b px-6 py-4 text-lg font-medium",D.Cj.label1,D.Cj.dividerBorder2),children:[o("move"),(0,i.jsx)("button",{onClick:t,className:(0,P.yI)("ml-auto cursor-pointer rounded transition-all",D.Cj.fill3Hover),children:(0,i.jsx)(er.F,{className:(0,P.yI)("h-6 w-6",D.Cj.labelGrey6)})})]}),(0,i.jsxs)("div",{className:(0,P.yI)("flex flex-col gap-2 px-6 py-4"),children:[(0,i.jsx)("div",{className:(0,P.yI)("text-sm",D.Cj.label2),children:o("moveTitle")}),(0,i.jsx)(tr.I,{className:(0,P.yI)("rounded-lg px-3 py-1 text-sm focus:border-transparent",D.Cj.fill4,D.Cj.placeholderLabel4),value:s,onChange:p,placeholder:o("moveTitlePlaceholder")})]}),(0,i.jsxs)("div",{className:(0,P.yI)("flex justify-end gap-4 px-6 py-4 text-sm"),children:[(0,i.jsx)(_n.z,{onClick:t,className:"rounded-lg px-4 py-1.5",children:o("cancel")}),(0,i.jsx)(_n.z,{variant:"primary",disabled:v,loading:f,onClick:y,className:"rounded-lg px-4 py-1.5",children:o("confirm")})]})]})},or=t(1303);function ir(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function ar(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function lr(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(u){l=!0,o=u}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return ir(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ir(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ur,sr=function(e){var n,t,r,o=e.comments,l=e.isFetching,u=e.commentsCountToLoad,s=(0,E.$G)("solutions",{keyPrefix:"comments"}).t,c=(0,A.t)({className:"z-modal",cancelBtnCls:"py-1.5",confirmBtnCls:"py-1.5"}),f=c.modal,m=c.update,v=lr(L(),2),p=v[0],y=v[1],b=(0,a.useCallback)((function(){return y({visible:!1,comment:void 0})}),[y]),h=lr(L(),2),g=h[0],x=h[1],j=(0,a.useCallback)((function(){return x({visible:!1,comment:void 0})}),[x]),C=null!==(r=null===o||void 0===o?void 0:o.map((function(e){return e.username})))&&void 0!==r?r:[],w=(0,q.E)(C).data,O=(0,a.useMemo)((function(){return d.Oo?o:null===o||void 0===o?void 0:o.map((function(e){var n,t,r=null!==(t=null===(n=e.userSlug)||void 0===n?void 0:n.toLowerCase())&&void 0!==t?t:"";return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){ar(e,n,t[n])}))}return e}({},e,null===w||void 0===w?void 0:w[r])}))}),[o,w]);return l?(0,i.jsx)(At,{itemsCount:u}):O&&O.length>0?(0,i.jsxs)("div",{children:[O.map((function(e){return(0,i.jsx)(Vt,{comment:e,updateConfirmModal:m,updateReportModal:y,updateMoveToSolutionsModal:x},e.id)})),f,(0,i.jsx)(or.y,{visible:p.visible,postId:(null===(n=p.comment)||void 0===n?void 0:n.postId)||0,commentId:null===(t=p.comment)||void 0===t?void 0:t.id,onCancel:b}),(0,i.jsx)(rr,{onCancel:j,visible:g.visible,comment:g.comment})]}):(0,i.jsx)("div",{className:(0,P.yI)("w-full p-5 text-center",D.Cj.label4),children:s("noComments")})},cr=t(88667),dr=function(e){var n=e.className,t=e.sortBy,r=e.setSortBy,o=(0,E.$G)("solutions",{keyPrefix:"comments"}).t,u=(0,a.useMemo)((function(){return(0,l.Z)([{value:p.f.Best,text:o("best")},d.Oo&&{value:p.f.MostVotes,text:o("mostVotes")},{value:p.f.NewestToOldest,text:o("newestToOldest")},{value:p.f.OldestToNewest,text:o("oldestToNewest")}])}),[o]),s=u.find((function(e){return e.value===t}));return(0,i.jsx)("div",{className:"flex items-center space-x-2",children:(0,i.jsx)(Gn.L,{selected:null===s||void 0===s?void 0:s.value,icon:(0,i.jsx)(zn.h,{}),btnClassName:(0,P.yI)("p-0 bg-transparent dark:bg-transparent hover:bg-transparent dark:hover:bg-transparent active:bg-transparent dark:active:bg-transparent",D.Cj.label2),itemsClassName:n,itemClassName:(0,P.yI)("font-normal",D.Cj.label2),itemSelectedClassName:(0,P.yI)("font-medium",D.Cj.label1),setSelected:function(e){e&&r(e)},items:u,btnText:(0,i.jsxs)("div",{className:(0,P.yI)("text-xs",D.Cj.label2),children:[(0,i.jsxs)("span",{className:"mr-2",children:[o("sortBy"),":"]}),(0,i.jsx)("span",{className:(0,P.yI)(D.Cj.label1,"font-medium"),children:null===s||void 0===s?void 0:s.text})]})})})},fr=function(e){var n=e.total,t=e.sortBy,r=e.setSortBy,o=(0,E.$G)("solutions",{keyPrefix:"comments"}).t;return(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,i.jsx)("div",{children:(0,i.jsx)(cr.h,{className:(0,P.yI)("h-6 w-6",D.Cj.labelGrey6)})}),(0,i.jsxs)("div",{className:(0,P.yI)("flex-1 text-base font-medium",D.Cj.label1),children:[o("comments")," (",(0,Y.ZP)(n),")"]}),(0,i.jsx)("div",{children:(0,i.jsx)(dr,{sortBy:t,setSortBy:r,className:"right-0"})})]})},mr=t(49758),vr=t(88892),pr=t(28434);function yr(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function br(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function hr(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(u){l=!0,o=u}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return yr(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return yr(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e){e.Discussion="discussion",e.OfficialSolution="officialSolution"}(ur||(ur={}));var gr=function(e){var n=e.title,t=e.onClose,r=e.children,o=e.className;return(0,i.jsx)("div",{className:(0,P.yI)("w-full rounded-[13px] border p-4",D.Cj.fill4,D.Cj.divider4,o),children:(0,i.jsxs)("div",{className:"flex w-full flex-col items-start gap-3",children:[(0,i.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,i.jsx)("div",{className:(0,P.yI)("font-medium",D.Cj.label1),children:n}),(0,i.jsx)("div",{className:"cursor-pointer",onClick:t,children:(0,i.jsx)(er.F,{className:(0,P.yI)("h-4 w-4",D.Cj.labelGrey6,D.Cj.labelGrey7Hover)})})]}),(0,i.jsx)("div",{className:(0,P.yI)("flex w-full flex-col items-start gap-4 text-xs",D.Cj.label2),children:r})]})})},xr=function(e){var n=hr((0,mr._)("".concat(e,"CommentingRulesExpiration"),void 0),2),t=n[0],r=n[1],o=(0,a.useCallback)((function(){var e=(0,vr.B)().add(7,"d").valueOf();r(e)}),[r]);return{isExpired:!!(!t||!(0,vr.B)(Number(t)).isValid())||(0,vr.B)(t).isBefore((0,vr.B)()),setToExpire:o}},jr=d.Oo?function(e){var n=e.discussionType,t=e.className,r=xr(n),o=r.isExpired,a=r.setToExpire,l=function(e){var n,t=(0,P.yI)("text-xs font-medium",D.Cj.labelBlueStandard);return(br(n={},ur.OfficialSolution,{title:"\ud83d\udca1 Article Commenting Rules",content:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("p",{children:["1. This comment section is for questions and comments regarding this ",(0,i.jsx)("b",{children:"LeetCode article"}),". All posts must respect our"," ",(0,i.jsx)(pr.r,{className:t,href:J.Hb.communityRules(),isExternal:!0,children:"LeetCode Community Rules"}),"."]}),(0,i.jsxs)("p",{children:["2. Concerns about errors or bugs in the article, problem description, or test cases should be posted on"," ",(0,i.jsx)(pr.r,{className:t,href:J.Hb.feedback(),isExternal:!0,children:"LeetCode Feedback"}),", so that our team can address them."]})]})}),br(n,ur.Discussion,{title:"\ud83d\udca1 Discussion Rules",content:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("p",{children:["1. Please don't post ",(0,i.jsx)("b",{children:"any solutions"})," in this discussion tab."]}),(0,i.jsx)("p",{children:"2. The problem discussion tab is for asking questions about the problem or for sharing tips - anything except for solutions."}),(0,i.jsx)("p",{children:"3. If you'd like to share your solution for feedback and ideas, please head to the solutions tab and post it there."})]})}),n)[e]}(n);return o?(0,i.jsx)(gr,{title:l.title,onClose:a,className:t,children:l.content}):null}:function(e){var n=e.discussionType,t=e.className,r=xr(n),o=r.isExpired,a=r.setToExpire;return o?n===ur.OfficialSolution?null:(0,i.jsxs)(gr,{title:"\ud83d\udca1 \u8ba8\u8bba\u533a\u89c4\u5219",onClose:a,className:t,children:[(0,i.jsx)("p",{children:"1. \u8bf7\u4e0d\u8981\u5728\u8bc4\u8bba\u533a\u53d1\u8868\u9898\u89e3\uff01"}),(0,i.jsx)("p",{children:"2. \u8bc4\u8bba\u533a\u53ef\u4ee5\u53d1\u8868\u5173\u4e8e\u5bf9\u7ffb\u8bd1\u7684\u5efa\u8bae\u3001\u5bf9\u9898\u76ee\u7684\u7591\u95ee\u53ca\u5176\u5ef6\u4f38\u8ba8\u8bba\u3002"}),(0,i.jsx)("p",{children:"3. \u5982\u679c\u4f60\u9700\u8981\u6574\u7406\u9898\u89e3\u601d\u8def\uff0c\u83b7\u5f97\u53cd\u9988\u4ece\u800c\u8fdb\u9636\u63d0\u5347\uff0c\u53ef\u4ee5\u53bb\u9898\u89e3\u533a\u8fdb\u884c\u3002"})]}):null};function Cr(e,n,t,r,o,i,a){try{var l=e[i](a),u=l.value}catch(s){return void t(s)}l.done?n(u):Promise.resolve(u).then(r,o)}function wr(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Or=function(e){var n,t,r=e.topicId,l=e.commentCount,u=e.commentId,s=e.layoutType,c=e.hideComments,f=(0,a.useRef)(null),m=(0,Ce.wG)((function(e){return e.topicId})),v=(0,Ce.wG)((function(e){return e.setTopicId})),y=(0,Ce.wG)((function(e){return e.isModerator})),b=(0,Ce.wG)((function(e){return e.setIsModerator})),h=(0,Ce.wG)((function(e){return e.highlightedCommentId})),g=(0,Ce.wG)((function(e){return e.setHighlightedCommentId})),j=(0,Ce.wG)((function(e){return e.parentOfHighlightedCommentId})),w=(0,Ce.wG)((function(e){return e.setParentOfHighlightedCommentId})),E=(0,Ce.wG)((function(e){return e.content})),A=(0,Ce.wG)((function(e){return e.intentionTag})),D=(0,Ce.yZ)((function(e){return e.questionSlug})),q=(0,Ce.wG)((function(e){return e.setLayoutType}));(0,a.useEffect)((function(){return q(s)}),[q,s]);var R=null===(n=(0,I.U)())||void 0===n||null===(t=n.data)||void 0===t?void 0:t.userStatus,L=[Boolean(null===R||void 0===R?void 0:R.isPremium),Boolean(null===R||void 0===R?void 0:R.isAdmin)][1],B=(0,a.useState)(p.f.Best),M=B[0],H=B[1],_=(0,a.useCallback)((function(e){D&&T.d.qdSortCommentClick({qd_version:S.AQ,qd_question_slug:D,qd_sort_type:e,qd_comment_pos:s}),H(e)}),[D,s]),G=(0,a.useState)(1),Q=G[0],z=G[1],Z={topicId:r,orderBy:M,pageNo:Q,numPerPage:10},$=x(Z),U=s===Ce.Dk.Discuss,F=(0,Ce.yZ)((function(e){return e.containerWidth})),V="number"===typeof F&&F<Ft,K=Sn({queryKey:$,initialContent:U?E:void 0,initialIntentionTag:U?A:void 0,saveDraft:U,setPageNo:z}),W=K.value,Y=K.onSave,J=K.onCommentChange,X=K.isSaving,ee=K.intentionTag,ne=K.onIntentionTagChange,te=Boolean(r&&!c),re=C(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){wr(e,n,t[n])}))}return e}({},Z,{isDiscuss:U}),{enabled:te}),oe=re.data,ie=re.isFetching,ae=re.isLoading,le=O({commentId:u,orderBy:M,topicId:r},{enabled:Boolean(u&&te)}).data,ue=(0,Ce.wG)((function(e){return e.commentsTopAnchor})),se=(0,Ce.wG)((function(e){return e.setCommentsTopAnchor})),ce=(0,a.useState)(!1),de=ce[0],fe=ce[1];(0,a.useEffect)((function(){de&&ue&&(requestAnimationFrame((function(){return ue.scrollIntoView({behavior:"smooth"})})),fe(!1))}),[oe,ue]);var me=oe?Math.min(oe.total-10*(Q-1),10):10,ve=(0,a.useCallback)((function(e){fe(!0),z(e)}),[]);(0,a.useEffect)((function(){m!==r&&v(r),y!==L&&b(L),h!==u&&g(u),j!==u&&w(u),j!==(null===le||void 0===le?void 0:le.parentCommentId)&&w(null===le||void 0===le?void 0:le.parentCommentId)}),[r,m,L,y,le]),(0,a.useEffect)((function(){le&&z(le.pageNo)}),[le]);var pe,be=(null===oe||void 0===oe?void 0:oe.total)||0,he=d.ob&&null!==l&&void 0!==l?l:be,ge=(0,k.z)((pe=o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y().then((function(e){var n=e.ok;return n&&D&&T.d.qdSubmitCommentClick({qd_version:S.AQ,qd_question_slug:D,qd_comment_pos:we(s),qd_comment_type:ye.Comment}),{ok:n}})));case 1:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(t,r){var o=pe.apply(e,n);function i(e){Cr(o,t,r,i,a,"next",e)}function a(e){Cr(o,t,r,i,a,"throw",e)}i(void 0)}))}));return(0,i.jsxs)("div",{className:"flex h-full flex-col",children:[s!==Ce.Dk.Discuss&&(0,i.jsx)("div",{className:"mx-5",children:(0,i.jsx)(fr,{total:he,sortBy:M,setSortBy:_})}),(0,i.jsx)("div",{className:"mx-5 mt-6",children:(0,i.jsx)(vt,{value:W,disabled:X,onSave:ge,topicId:r,innerRef:f,onChange:J,variation:Nn.Full,intentionTag:ee,onIntentionTagChange:ne})}),s===Ce.Dk.Discuss&&(0,i.jsxs)("div",{className:"mx-5 mt-3",children:[(0,i.jsx)(jr,{discussionType:ur.Discussion,className:"mb-3"}),(0,i.jsx)("div",{className:"pt-3",children:(0,i.jsx)(dr,{sortBy:M,setSortBy:_,className:"left-0"})})]}),s===Ce.Dk.OfficialSolution&&(0,i.jsx)("div",{className:"mx-5 mt-3",children:(0,i.jsx)(jr,{discussionType:ur.OfficialSolution})}),(0,i.jsx)("div",{className:"w-full",ref:se}),(0,i.jsx)("div",{className:"mt-4 flex-1",children:(0,i.jsx)(sr,{comments:null===oe||void 0===oe?void 0:oe.comments,commentsCountToLoad:me,isFetching:d.ob?ae:ie})}),be>0&&(0,i.jsx)("div",{className:(0,P.yI)("mx-5 mt-7 mb-4 flex justify-center pb-4"),children:(0,i.jsx)(N.Z,{disabled:ie||X,currentPage:Q,totalItems:be,maxPageItems:V?Q<99?6:5:void 0,itemsPerPage:10,onChange:ve,pageItemClassName:"text-sm",chevronClassName:"w-4 h-4",arrowButtonClassName:"px-2"})})]})}},3346:function(e,n,t){t.d(n,{yZ:function(){return c},Dk:function(){return s},wG:function(){return d},yU:function(){return f}});var r,o=t(69441),i=t(14671),a=t(38597);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){l(e,n,t[n])}))}return e}!function(e){e.UpdateState="UpdateState"}(r||(r={}));var s,c=(0,i.ZP)((0,a.$e)({questionSlug:void 0,commentId:void 0,containerWidth:0},(function(e){return{setQuestionSlug:function(n){return e((function(e){return u({},e,{questionSlug:n})}))},setCommentId:function(n){return e((function(e){return u({},e,{commentId:n})}))},setContainerWidth:function(n){return e((function(e){return u({},e,{containerWidth:n})}))}}})));!function(e){e.Discuss="Discuss",e.Solution="Solution",e.OfficialSolution="OfficialSolution"}(s||(s={}));var d=(0,i.ZP)((0,a.$e)({topicId:null,isModerator:!1,highlightedCommentId:void 0,parentOfHighlightedCommentId:void 0,layoutType:s.Discuss,commentsTopAnchor:null,tagNamesMap:new Map,content:"",intentionTag:void 0},(function(e){return{setTopicId:function(n){return e((function(e){return u({},e,{topicId:n})}))},setIsModerator:function(n){return e((function(e){return u({},e,{isModerator:n})}))},setHighlightedCommentId:function(n){return e((function(e){return u({},e,{highlightedCommentId:n})}))},setParentOfHighlightedCommentId:function(n){return e((function(e){return u({},e,{parentOfHighlightedCommentId:n})}))},setLayoutType:function(n){return e((function(e){return u({},e,{layoutType:n})}))},setCommentsTopAnchor:function(n){return e((function(e){return u({},e,{commentsTopAnchor:n})}))},resetState:function(){return e((function(e){return u({},e,{topicId:null,highlightedCommentId:void 0,parentOfHighlightedCommentId:void 0})}))},setIntentionTags:function(n){return e((function(e){return u({},e,{tagNamesMap:new Map(n.map((function(e){return[e.slug,e.name]})))})}))},setContent:function(n){return e((function(e){return u({},e,{content:n})}))},setIntentionTag:function(n){return e((function(e){return u({},e,{intentionTag:n})}))}}}))),f=function(){return d((function(e){return(0,o.Z)(e,["commentsTopAnchor"])}))}},34302:function(e,n,t){t.d(n,{D:function(){return f}});var r=t(85893),o=t(90758),i=t(46242),a=t(86328),l=t(46612),u=t(96337),s=t(58007),c=t(28434),d=t(52921),f=function(e){var n=e.userAvatar,t=e.username,f=e.imgClassName,m=e.dontTriggerParentClickEvent,v=e.clickable,p=void 0===v||v,y=(0,r.jsx)(u.q,{src:n,alt:"",className:"h-full w-full rounded-full"}),b=(0,o.yI)("h-8 min-h-[32px] w-8 min-w-[32px]",f),h=(0,s.v)((function(e){return e.questionSlug})),g=(0,i.z)((function(e){d.d.qdEnterAuthorProfileClick({qd_version:a.AQ,qd_question_slug:h,qd_post_article_author:t}),m&&e.stopPropagation()}));return p?(0,r.jsx)(c.r,{className:b,href:l.Hb.profile(t),onClick:g,isExternal:!0,children:y}):(0,r.jsx)("div",{className:b,children:y})}},47400:function(e,n,t){t.d(n,{S:function(){return p}});var r=t(85893),o=t(90758),i=t(46242),a=t(86328),l=t(46612),u=t(29450),s=t(58007),c=t(28434),d=t(48838),f=t(51121),m=t(12831),v=t(52921),p=function(e){var n=e.realName,t=e.username,p=e.badgeIcon,y=e.badgeName,b=e.isLink,h=void 0===b||b,g=e.badgeClassName,x=e.userClassName,j=e.reputation,C=e.dontTriggerParentClickEvent,w=(0,o.yI)(m.Cj.label2,"text-xs font-medium overflow-hidden max-w-[100px] md:max-w-[200px] text-ellipsis",x),O=(0,s.v)((function(e){return e.questionSlug})),I=(0,i.z)((function(e){v.d.qdEnterAuthorProfileClick({qd_version:a.AQ,qd_question_slug:O,qd_post_article_author:t}),C&&e.stopPropagation()}));return(0,r.jsxs)("div",{className:"flex items-center gap-1 truncate",children:[h?(0,r.jsx)(c.r,{onClick:I,href:l.Hb.profile(t),className:(0,o.yI)(w,m.M$.labelBlueS,"truncate"),isExternal:!0,children:n||t}):(0,r.jsx)("div",{className:w,children:t}),p&&y&&(0,r.jsx)(d.e,{title:y,showArrow:!1,children:(0,r.jsx)("div",{className:(0,o.yI)("h-3 w-3",g),children:(0,r.jsx)("img",{src:p,alt:y,className:"h-full w-full"})})}),u.ob&&!!j&&(0,r.jsx)(f.P,{level:j})]})}},54787:function(e,n,t){t.d(n,{c:function(){return u}});var r=t(85893),o=t(90758),i=t(3353),a=t(82677),l=t(12831),u=function(e){var n=e.timestamp,t=e.useCalendarIcon,u=void 0===t||t,s=e.createdAtClassName,c=e.formattedDateClassName,d=e.iconClassName,f=n<1e10?1e3*n:n;return(0,r.jsxs)("div",{className:(0,o.yI)("flex items-center gap-1.5",s),children:[u&&(0,r.jsx)(a.j,{className:(0,o.yI)(l.Cj.labelGrey5,"h-4 w-4",d)}),(0,r.jsx)("div",{className:(0,o.yI)(l.Cj.label3,"min-w-max text-xs",c),children:(0,r.jsx)(i.J,{datetime:f})})]})}},32681:function(e,n,t){t.d(n,{E:function(){return a}});var r=t(85893),o=t(90758),i=t(12831),a=function(e){var n=e.className,t=e.onClick,a=e.icon,l=e.iconClassName,u=e.label,s=e.labelClassName,c=e.onIconClick,d=e.disabled,f=void 0!==u,m=void 0!==a;return(0,r.jsxs)("div",{className:(0,o.yI)("flex items-center gap-1",n),onClick:t,children:[m&&(0,r.jsx)(a,{onClick:d?void 0:c,className:(0,o.yI)("h-4 w-4",{"pointer-events-none":d},l)}),f&&(0,r.jsx)("div",{className:(0,o.yI)(i.Cj.label2,"text-xs",s),children:u})]})}},68911:function(e,n,t){t.d(n,{T:function(){return f},l:function(){return m}});var r=t(85893),o=t(72510),i=t(11355),a=t(67294),l=t(90758),u=t(48580),s=t(27830),c=t(22199),d=t(12831),f=function(e){var n=e.onClick,t=e.className,i=e.children;return(0,r.jsx)(o.v.Item,{as:"div",onClick:n,className:(0,l.yI)("w-full cursor-pointer select-none rounded py-[5px] px-3 text-md",d.Cj.label2,d.Cj.label1Hover,d.Cj.fill3Hover,t),children:i})},m=function(e){var n,t=e.children,f=e.btnClassName,m=e.iconClassName,v=e.placement,p=void 0===v?"top":v,y=null===(n=(0,u.U)().data)||void 0===n?void 0:n.userStatus,b=Boolean(null===y||void 0===y?void 0:y.isAdmin)?s.k:c.q;return(0,r.jsxs)(o.v,{as:"div",className:"relative",children:[(0,r.jsx)("div",{children:(0,r.jsx)(o.v.Button,{className:(0,l.yI)(d.Cj.label1Hover,"flex h-6 w-6 cursor-pointer items-center justify-center rounded-md",f),children:(0,r.jsx)(b,{className:(0,l.yI)(d.Cj.labelGrey6,d.Cj.labelGrey7Hover,"h-5 w-5",m)})})}),(0,r.jsx)(i.u,{as:a.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,r.jsx)(o.v.Items,{style:{zIndex:100},className:(0,l.yI)(d.Cj.bgLayer3,d.Cj.divider4,d.eq.card,"border-1 absolute right-0 min-w-[200px] rounded-lg p-2 outline-none",{"top-8":"bottom"===p,"bottom-8":"top"===p}),children:(0,r.jsx)("div",{children:t})})})]})}},1303:function(e,n,t){t.d(n,{y:function(){return B},a:function(){return M}});var r=t(85893),o=t(67294),i=t(73935),a=t(65451),l=t(22143),u=t(90758),s=t(46612),c=t(6848),d=t(28434),f=t(16950),m=t(20237),v=t(89126),p=t(4271),y=t(12831),b=t(83144),h=t(34051),g=t.n(h),x=t(5691),j=t(26629),C=t(66004),w=t(29450);function O(e,n,t,r,o,i,a){try{var l=e[i](a),u=l.value}catch(s){return void t(s)}l.done?n(u):Promise.resolve(u).then(r,o)}var I=new Map([[j.ZLU.Advertising,"1"],[j.ZLU.Sexual,"2"],[j.ZLU.Violent,"3"],[j.ZLU.Terrorism,"4"],[j.ZLU.Politics,"5"],[j.ZLU.Fake,"6"],[j.ZLU.Illegal,"7"],[j.ZLU.Other,void 0]]),N=w.Oo?function(){var e=(0,x.umC)(C.f6),n=e.mutateAsync,t=e.isLoading;return{mutateAsync:(0,o.useCallback)((function(e){return n(e).then((function(e){return e.flagPost}))}),[n]),isLoading:t}}:function(){var e=(0,j.gu3)(C.f6),n=e.mutateAsync,t=e.isLoading,r=(0,o.useCallback)(function(){var e,t=(e=g().mark((function e(t){var r,o,i,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.postId,o=t.flagType,i=t.content,a=t.articleId,e.abrupt("return",n({data:{resourceId:a||String(r),reasonId:I.get(o),resourceType:a?j.H0r.Article:j.H0r.Comment,description:i}}).then((function(e){return e.flagSomething})));case 2:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){O(i,r,o,a,l,"next",e)}function l(e){O(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),[n]);return{isLoading:t,mutateAsync:r}},S=t(29337),k=t(8240),P=t(91455),T=t(33709),E=t(91208),A=t(5772);function D(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function q(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function R(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(u){l=!0,o=u}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return D(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return D(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var L=w.Oo?function(e){var n=e.value,t=e.label;return(0,r.jsx)(a.E.Option,{value:n,as:o.Fragment,children:function(e){var n=e.checked;return(0,r.jsx)("div",{className:(0,u.yI)("flex w-full cursor-pointer flex-col py-2",y.Cj.label2,y.Cj.label1Hover),children:(0,r.jsxs)("div",{className:(0,u.yI)("flex items-center justify-between"),children:[(0,r.jsx)("span",{children:t}),n&&(0,r.jsx)(v.N,{className:(0,u.yI)("h-4 w-4",y.Cj.labelGrey6)})]})})}})}:function(e){var n=e.value,t=e.label;return(0,r.jsx)(a.E.Option,{value:n,as:o.Fragment,children:function(e){var n,o=e.checked;return(0,r.jsx)("div",{className:(0,u.yI)("flex cursor-pointer flex-col rounded-lg p-2",(n={},q(n,y.Cj.label2,!o),q(n,y.Cj.labelBlueStandard,o),q(n,y.Cj.fill4,!o),q(n,y.Cj.bgBlue0,o),n)),children:(0,r.jsx)("div",{className:(0,u.yI)("flex items-center justify-between",{"":o}),children:(0,r.jsx)("span",{children:t})})})}})},B=function(e){var n=e.visible,t=e.onCancel,s=e.postId,v=e.commentId,h=e.articleId,g=(0,l.$G)("solutions",{keyPrefix:"report"}).t,x=(0,o.useState)(null),j=x[0],C=x[1],O=(0,o.useState)(""),I=O[0],k=O[1],P=N(),A=P.mutateAsync,D=P.isLoading,B=null===j||j===S.ZL.Other&&0===I.trim().length,M=w.Oo?[[S.ZL.Advertising,g("advertising")],[S.ZL.Sexual,g("sexual")],[S.ZL.Violent,g("violent")],[S.ZL.Terrorism,g("terrorism")],[S.ZL.Illegal,g("illegal")],[S.ZL.Abuse,g("abuse")],[S.ZL.NonEnglish,g("nonEnglish")],[S.ZL.Other,g("other")]]:[[S.ZL.Advertising,g("advertising")],[S.ZL.Sexual,g("sexual")],[S.ZL.Violent,g("violent")],[S.ZL.Terrorism,g("terrorism")],[S.ZL.Politics,g("politics")],[S.ZL.Fake,g("fake")],[S.ZL.Illegal,g("illegal")],[S.ZL.Other,g("other")]];(0,o.useEffect)((function(){n&&(k(""),C(null))}),[n]);var H=(0,o.useCallback)((function(){var e=j===S.ZL.Other?I:"";A({postId:w.Oo?s:v||0,flagType:j,content:e,articleId:h}).then((function(e){(null===e||void 0===e?void 0:e.ok)?(T.y.success(g("reportSuccess"),{itemClassName:y.Cj.bgLayer3}),t()):T.y.error(g("reportError"),{itemClassName:y.Cj.bgLayer3})}))}),[j,I,A,s,v,g,t,h]);return(0,i.createPortal)((0,r.jsxs)(c.u,{visible:n,onCancel:t,closable:!1,maskClosable:!0,className:(0,u.yI)("w-[480px] p-0 text-base",y.Cj.bgLayer2),children:[(0,r.jsxs)("div",{className:(0,u.yI)("flex items-center px-6 py-4 text-lg font-medium",y.Cj.label1,q({},(0,u.yI)(y.Cj.dividerBorder2,"border-b"),w.Oo)),children:[g("reportModalTitle"),(0,r.jsx)("button",{onClick:t,className:(0,u.yI)("ml-auto cursor-pointer rounded transition-all",y.Cj.fill3Hover),children:(0,r.jsx)(p.F,{className:(0,u.yI)("h-6 w-6",y.Cj.labelGrey6)})})]}),(0,r.jsxs)("div",{className:(0,u.yI)("px-6 py-2 text-xs"),children:[(0,r.jsx)(a.E,{value:j,onChange:C,className:(0,u.yI)("flex flex-wrap",{"flex-col":w.Oo,"gap-4":!w.Oo}),children:M.map((function(e){var n=R(e,2),t=n[0],o=n[1];return(0,r.jsx)(L,{value:t,label:o},t)}))}),j===S.ZL.Other&&(0,r.jsx)(b.g,{className:(0,u.yI)("h-[90px] rounded-lg px-3 py-2 text-sm focus:border-transparent",y.Cj.fill4,y.Cj.placeholderLabel4,{"mt-4":!w.Oo}),placeholder:g("contentPlaceholder"),value:I,onChange:k,autoSize:!0})]}),!w.Oo&&(0,r.jsx)("div",{className:(0,u.yI)(y.Cj.dividerBorder2,"mt-4 border-t px-6 py-4"),children:(0,r.jsxs)(d.r,{href:"".concat(E.jY,"/complaint-guidelines"),isExternal:!0,className:(0,u.yI)(y.Cj.fill4,y.Cj.label2,"flex cursor-pointer items-center rounded-lg py-1 px-3"),children:[(0,r.jsx)(f.y,{src:"/_next/static/images/complaint-56e08a401042a9e8aa3bcc60a686bb4d.svg",alt:"",className:"h-6"}),(0,r.jsx)("span",{className:"ml-3 text-sm",children:"\u4fb5\u6743\u6295\u8bc9"})]})}),(0,r.jsxs)("div",{className:(0,u.yI)("flex justify-end gap-4 p-4 text-sm"),children:[(0,r.jsx)(m.z,{onClick:t,className:"rounded-lg px-4 py-1.5",children:g("cancel")}),(0,r.jsx)(m.z,{variant:"primary",disabled:B,loading:D,onClick:H,className:"rounded-lg px-4 py-1.5",children:g("confirm")})]})]}),document.querySelector("#modal-root"))},M=function(e){var n,t=e.visible,l=e.onCancel,f=e.isOfficial,v=e.solutionTitle,h=e.slug,g=(0,o.useState)(""),x=g[0],w=g[1],O=(0,A.cm)((function(e){return e.questionSlug})),I=(0,k.K)(O).data,N=(0,P.z)(O).data,S=(0,j.x3Q)(C.f6),E=S.mutateAsync,D=S.isLoading,B=(0,j.r0Q)(C.f6),M=B.mutateAsync,H=B.isLoading,_=[[j.$pM.HardToUnderstand,"\u96be\u4ee5\u7406\u89e3"],[j.$pM.ImproperSolution,"\u66b4\u529b\u6216\u975e\u6b63\u5f53\u89e3\u6cd5"],[j.$pM.NonSolution,"\u975e\u9898\u89e3\u5185\u5bb9"],[j.$pM.Other,"\u5176\u4ed6"]],G=(0,o.useState)(j.$pM.HardToUnderstand),Q=G[0],z=G[1],Z=0===x.trim().length,$=(0,o.useCallback)((function(){f?M({detail:x,slug:h}).then((function(){T.y.success("\u8c22\u8c22\u60a8\u7684\u53cd\u9988\uff01",{itemClassName:y.Cj.bgLayer3}),l()})):E({data:{detail:x,reason:Q,solutionSlug:h}}).then((function(){T.y.success("\u8c22\u8c22\u60a8\u7684\u53cd\u9988\uff01",{itemClassName:y.Cj.bgLayer3}),l()}))}),[x,f,l,Q,h,M,E]);return(0,i.createPortal)((0,r.jsxs)(c.u,{visible:t,onCancel:l,closable:!1,maskClosable:!0,className:(0,u.yI)("w-[480px] p-0 text-base",y.Cj.bgLayer2),children:[(0,r.jsxs)("div",{className:(0,u.yI)("flex items-center px-6 py-4 text-lg font-medium",y.Cj.label1,q({},(0,u.yI)(y.Cj.dividerBorder2,"border-b"),!0)),children:["\u8bf7\u586b\u5199\u53cd\u9988\u5185\u5bb9",(0,r.jsx)("button",{onClick:l,className:(0,u.yI)("ml-auto cursor-pointer rounded transition-all",y.Cj.fill3Hover),children:(0,r.jsx)(p.F,{className:(0,u.yI)("h-6 w-6",y.Cj.labelGrey6)})})]}),(0,r.jsxs)("div",{className:(0,u.yI)("px-6 py-4 text-sm"),children:[f?(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("span",{className:(0,u.yI)(y.Cj.label3,"w-[100px] flex-shrink-0 text-right"),children:"\u9898\u76ee:"}),(0,r.jsx)("span",{className:(0,u.yI)(y.Cj.label1,"grow truncate"),children:null!==(n=null===N||void 0===N?void 0:N.translatedTitle)&&void 0!==n?n:null===I||void 0===I?void 0:I.title})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("span",{className:(0,u.yI)(y.Cj.label3,"w-[100px] flex-shrink-0 text-right"),children:"\u9898\u89e3\u6807\u9898:"}),(0,r.jsx)("span",{className:(0,u.yI)(y.Cj.label1,"grow truncate"),children:v})]}),(0,r.jsxs)("div",{className:"mt-2 flex gap-2",children:[(0,r.jsx)("span",{className:(0,u.yI)(y.Cj.label3,"w-[100px] flex-shrink-0 text-right leading-8"),children:"\u53cd\u9988\u539f\u56e0:"}),(0,r.jsx)("div",{className:"flex grow flex-wrap",children:(0,r.jsx)(a.E,{value:Q,onChange:z,className:(0,u.yI)("flex flex-wrap gap-4"),children:_.map((function(e){var n=R(e,2),t=n[0],o=n[1];return(0,r.jsx)(L,{value:t,label:o},t)}))})})]})]}),(0,r.jsxs)("div",{className:"mt-2 flex gap-2",children:[(0,r.jsxs)("span",{className:(0,u.yI)(y.Cj.label3,"w-[100px] flex-shrink-0 text-right"),children:[(0,r.jsx)("span",{className:(0,u.yI)(y.Cj.labelRedStandard),children:"* "}),"\u53cd\u9988\u5185\u5bb9:"]}),(0,r.jsx)("div",{className:"grow truncate",children:(0,r.jsx)(b.g,{className:(0,u.yI)("h-[90px] rounded-lg px-3 py-2 text-sm focus:border-transparent",y.Cj.fill4,y.Cj.placeholderLabel4),value:x,onChange:w,autoSize:!0})})]}),f&&(0,r.jsxs)("div",{className:(0,u.yI)(y.Cj.label2,"mt-4 pl-10 text-xs"),children:["\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7"," ",(0,r.jsx)(d.r,{className:(0,u.yI)(y.Cj.labelBlueStandard,"cursor-pointer"),isExternal:!0,href:s.Hb.feedback(),children:"Github \u5feb\u901f\u53cd\u9988\u901a\u9053"})," ","\u8fdb\u884c\u63d0\u4ea4"]})]}),(0,r.jsxs)("div",{className:(0,u.yI)("flex justify-end gap-4 p-4 text-sm"),children:[(0,r.jsx)(m.z,{onClick:l,className:"rounded-lg px-4 py-1.5",children:"\u53d6\u6d88"}),(0,r.jsx)(m.z,{variant:"primary",disabled:Z,loading:D||H,onClick:$,className:"rounded-lg px-4 py-1.5",children:"\u786e\u8ba4"})]})]}),document.querySelector("#modal-root"))}},69283:function(e,n,t){var r;t.d(n,{Ap:function(){return r}}),function(e){e.UpdateFilters="UpdateFilters",e.Navigate="Navigate",e.Editor="Editor"}(r||(r={}))},5772:function(e,n,t){t.d(n,{cm:function(){return m},aq:function(){return v},UY:function(){return p}});var r=t(32180),o=t(69441),i=t(14671),a=t(38597),l=t(60374),u=t(3823),s=t(69283);function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){c(e,n,t[n])}))}return e}var f={questionSlug:"",topicId:void 0,topicTitleSlug:void 0,commentId:void 0},m=(0,i.ZP)((0,a.XR)((0,a.$e)(f,(function(e){return{setQuestionSlug:function(n){return e((function(e){return d({},e,{questionSlug:n})}))},updateTopic:function(n){return e((function(e){return(0,l.Z)(e,n)?e:d({},e,n)}))},resetTopic:function(){return e((function(e){return d({},e,{topicId:void 0,topicTitleSlug:void 0,commentId:void 0})}))}}})))),v=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2?arguments[2]:void 0;if(n)return u.T.emit(s.Ap.Navigate,(0,r.Z)(f,"questionSlug"));var i=(0,o.Z)(m.getState(),["topicId","topicTitleSlug","commentId"]);u.T.emit(s.Ap.Navigate,d({},i,e),{isExternal:t})},p=function(e,n){e.questionSlug&&u.T.emit(s.Ap.Editor,e,{isExternal:n})}},31188:function(e,n,t){t.d(n,{P:function(){return c}});var r=t(85893),o=t(67294),i=t(90758),a=t(79342),l=t(31926);function u(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var c=(0,o.forwardRef)((function(e,n){var t=e.disabled,o=e.className,c=e.icon,d=e.iconClassName,f=e.isOpen,m=e.children,v=s(e,["disabled","className","icon","iconClassName","isOpen","children"]);return(0,r.jsxs)("button",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){u(e,n,t[n])}))}return e}({disabled:t,className:(0,i.yI)(l.W.menuButton,l.W.menuButtonBg,t?[l.W.menuButtonDisabled,"cursor-default"]:[l.W.menuButtonText,l.W.menuButtonHover,l.W.menuButtonActive],o),ref:n},v,{type:"button",children:[m,(0,r.jsx)("div",{className:(0,i.yI)(l.W.menuButtonIcon,u({"rotate-180 transform":f},l.W.menuButtonDisabled,t),d),"aria-hidden":"true",children:c||(0,r.jsx)(a.C,{})})]}))}))},31926:function(e,n,t){t.d(n,{W:function(){return o}});var r=t(12831),o={menuButton:"flex items-center rounded px-3 py-1.5 text-left cursor-pointer focus:outline-none whitespace-nowrap leading-5",menuButtonBg:r.Cj.fill3,menuButtonText:r.Cj.label2,menuButtonHover:r.Cj.fill2Hover,menuButtonActive:"active:bg-fill-3 dark:active:bg-dark-fill-3",menuButtonIcon:"w-4.5 h-4.5 flex items-center ml-3 pointer-events-none transition duration-300 ".concat(r.Cj.label3),menuButtonDisabled:r.Cj.label4,dropdownTransition:{enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95"},menuItems:"max-w-[240px] min-w-[140px] absolute z-dropdown mt-1 rounded-lg p-2 overflow-auto focus:outline-none ".concat(r.eq.commandBar),menuItemsBg:r.Cj.bgOverlay3,menuItem:"cursor-pointer select-none relative h-8 py-1.5 pl-2 pr-12",menuItemText:r.Cj.label1,menuItemActive:"rounded ".concat(r.Cj.fill4),menuItemHover:r.Cj.fill4Hover,menuItemSelectedIconWrapper:"absolute inset-y-0 right-0 flex items-center pr-2 text-blue dark:text-dark-blue",popoverTransition:{enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1"},popoverPanel:"absolute w-max max-w-xs z-dropdown mt-1 p-2.5 rounded-lg focus:outline-none"}},71629:function(e,n,t){t.d(n,{L:function(){return p}});var r=t(85893),o=t(67294),i=t(72510),a=t(11355),l=t(90758),u=t(89126),s=t(72388),c=t(12831),d=t(31926),f=t(31188);function m(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function v(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){m(e,n,t[n])}))}return e}var p=function(e){var n=e.btnText,t=e.btnClassName,p=e.placeholder,y=e.icon,b=e.iconClassName,h=e.items,g=e.itemsClassName,x=e.itemClassName,j=e.itemSelectedClassName,C=e.placeholderClassName,w=void 0===C?c.Cj.label4:C,O=e.selected,I=e.setSelected,N=e.wrapperClassName,S=e.disabled;return(0,r.jsx)(i.v,{as:"div",className:(0,l.yI)("relative",N),children:function(e){var c=e.open;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.v.Button,{as:f.P,className:(0,l.yI)(t,m({},w,!n)),isOpen:c,icon:y,iconClassName:b,disabled:S,children:n||p}),!S&&(0,r.jsx)(a.u,v({as:o.Fragment},d.W.dropdownTransition,{children:(0,r.jsx)(i.v.Items,{className:(0,l.yI)(d.W.menuItems,d.W.menuItemsBg,g),children:h.map((function(e,n){var t=e.value,o=e.text;return(0,r.jsx)(i.v.Item,{children:function(e){var n,i=e.active;return(0,r.jsxs)("div",{className:(0,l.yI)(d.W.menuItem,d.W.menuItemText,x,(n={},m(n,d.W.menuItemActive,i),m(n,null!==j&&void 0!==j?j:"",O===t),n)),onClick:function(){return I(O!==t?t:void 0)},children:[(0,r.jsx)("div",{className:"flex h-5 items-center",children:(0,r.jsx)(s.J,{showArrow:!1,children:o})}),O===t?(0,r.jsx)("span",{className:d.W.menuItemSelectedIconWrapper,children:(0,r.jsx)(u.N,{className:"h-5 w-5","aria-hidden":"true"})}):null]})}},n)}))})}))]})}})}},3353:function(e,n,t){t.d(n,{J:function(){return u}});var r=t(85893),o=t(82563),i=t(88892),a=t(29450),l=t(48838),u=function(e){var n=e.datetime,t=e.className,u=e.unix,s=void 0!==u&&u,c=e.displayDetail,d=void 0!==c&&c,f=e.needDetailTooltip,m=void 0===f||f,v=e.dateFormat,p=void 0===v?a.Oo?"MMM DD, YYYY":"YYYY.MM.DD":v,y=e.detailFormat,b=void 0===y?a.Oo?"MMM DD, YYYY HH:mm":"YYYY.MM.DD HH:mm":y,h=e.placement,g=void 0===h?"top":h,x=(0,i.B)(),j=s?i.B.unix(Number(n)):(0,i.B)(n),C=(0,o.w)(x,j)?x.to(j):j.local().format(p),w=j.local().format(b),O=d?w:C;return m&&!d?(0,r.jsx)(l.e,{placement:g,title:w,showArrow:!1,children:(0,r.jsx)("span",{className:t,children:O})}):(0,r.jsx)("span",{className:t,children:O})}},9835:function(e,n,t){t.d(n,{Z:function(){return y}});var r=t(85893),o=t(67294),i=t(90758),a=t(12831),l=t(36848),u=t(22199),s=t(72071),c={pagination:"flex flex-nowrap items-center space-x-2",itemBase:"flex items-center justify-center px-3 h-8 rounded select-none focus:outline-none",itemDefault:"bg-fill-3 dark:bg-dark-fill-3 text-label-2 dark:text-dark-label-2",itemDisabled:"disabled:opacity-40 disabled:pointer-events-none",itemHover:"hover:bg-fill-2 dark:hover:bg-dark-fill-2",itemActive:"pointer-events-none bg-paper dark:bg-dark-gray-5 text-label-1 dark:text-dark-label-1 ".concat(a.eq.card)};function d(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function f(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var m=function(e){var n,t=e.children,o=e.className,a=e.current,l=e.page,u=e.onClickHandler,s=f(e,["children","className","current","page","onClickHandler"]);return(0,r.jsx)("button",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){d(e,n,t[n])}))}return e}({className:(0,i.yI)(c.itemBase,o,(n={},d(n,c.itemDefault,!a),d(n,c.itemHover,!a),d(n,c.itemActive,a),d(n,c.itemDisabled,s.disabled),n))},s,{onClick:function(){u&&u(l)},children:l||t}))};function v(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function p(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return v(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return v(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y=function(e){var n=e.className,t=e.currentPage,d=e.totalItems,f=e.onChange,v=e.pageItemClassName,y=e.chevronClassName,b=e.arrowButtonClassName,h=e.itemsPerPage,g=void 0===h?50:h,x=e.maxPageItems,j=void 0===x?8:x,C=e.disabled,w=void 0!==C&&C,O=Math.ceil(d/g)||0,I=p(Array(j>O?O:j)).map((function(e,n){return function(e,n,t,r){var o=(t=t<1?1:t)-2,i=o,a=r-o+1,l=r-t,u=n-Math.ceil((t-4)/2)-2,s=t-1;return 1===t?n:t===1/0||r<=t?e+1:t<5?n+s>r?l+e+1:n+e:0===e?1:e+1===t?r:n<i?e<i?e+1:"gap":n>a?e>1?l+e+1:"gap":1===e||e+1===s?"gap":e+u+1}(n,t,j,O)})),N=t>1,S=t<O,k=(0,o.useCallback)((function(e){null!=e&&f(e)}),[f]);return(0,o.useEffect)((function(){t>O&&O?k(O):t||k(1)}),[O,k,t]),(0,r.jsxs)("nav",{role:"navigation",className:(0,i.yI)(n,c.pagination),children:[(0,r.jsx)(m,{"aria-label":"prev",disabled:!N||w,onClickHandler:function(){N&&k(t-1)},className:(0,i.yI)(v,b),children:(0,r.jsx)(l.e,{className:(0,i.yI)(a.Cj.label2,y)})},"prev"),I.map((function(e,n){return"gap"===e?(0,r.jsx)(m,{"aria-label":"gap",disabled:!0,className:v,children:(0,r.jsx)(u.q,{className:a.Cj.label2})},n):(0,r.jsx)(m,{current:e===t,page:e,onClickHandler:k,className:v,disabled:w},n)})),(0,r.jsx)(m,{"aria-label":"next",disabled:!S||w,onClickHandler:function(){S&&k(t+1)},className:(0,i.yI)(v,b),children:(0,r.jsx)(s.V,{className:(0,i.yI)(a.Cj.label2,y)})},"next")]})}},51121:function(e,n,t){t.d(n,{P:function(){return l}});var r=t(85893),o=t(29450),i=["#DFDFDF","#53D780","#42A4FF","#AF52DE","#FFA116"];function a(e){var n=e.level,t=i[n-1];return 6===n?(0,r.jsxs)("svg",{className:"align-top",width:32,height:o.Oo?14:12,viewBox:"0 0 32 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M3.187.677C3.563.247 4.105 0 4.674 0h7.121c.57 0 1.111.247 1.487.677l2.694 3.085c.666.763.657 1.91-.023 2.662L9.7 13.348a1.97 1.97 0 01-2.929 0L.516 6.424a2.007 2.007 0 01-.022-2.662L3.187.677z",fill:"#fff"}),(0,r.jsx)("path",{d:"M5.005 5.83l2.479 2.817a1 1 0 001.501 0l2.48-2.817a.5.5 0 00-.376-.83H5.38a.5.5 0 00-.375.83z",fill:"url(#prefix__paint0_linear)"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.187.677C3.563.247 4.105 0 4.674 0h20.44C28.918 0 32 3.134 32 7s-3.083 7-6.886 7H7.756l-.068-.077c-.34-.098-.66-.29-.918-.575L.516 6.424A1.997 1.997 0 01.008 5.26L0 5.25l.007-.007c-.043-.523.12-1.06.487-1.481L3.187.677zm1.714 1.319a.5.5 0 00-.376.171L2.273 4.746a.5.5 0 00.005.664l5.586 6.183a.5.5 0 00.742 0L14.19 5.41a.5.5 0 00.006-.664l-2.252-2.579a.5.5 0 00-.377-.171H4.901z",fill:"url(#prefix__paint1_linear)"}),(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",{id:"prefix__paint0_linear",x1:16,y1:0,x2:16,y2:14,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#606069"}),(0,r.jsx)("stop",{offset:1})]}),(0,r.jsxs)("linearGradient",{id:"prefix__paint1_linear",x1:16,y1:0,x2:16,y2:14,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#606069"}),(0,r.jsx)("stop",{offset:1})]})]})]}):(0,r.jsxs)("svg",{className:"align-top",width:32,height:o.Oo?14:12,viewBox:"0 0 32 14",fill:t,xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M3.187.677C3.563.247 4.105 0 4.674 0h7.121c.57 0 1.111.247 1.487.677l2.694 3.085c.666.763.657 1.91-.023 2.662L9.7 13.348a1.97 1.97 0 01-2.929 0L.516 6.424a2.007 2.007 0 01-.022-2.662L3.187.677z",fill:"#fff"}),(0,r.jsx)("path",{d:"M5.005 5.83l2.479 2.817a1 1 0 001.501 0l2.48-2.817a.5.5 0 00-.376-.83H5.38a.5.5 0 00-.375.83z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.187.677C3.563.247 4.105 0 4.674 0h20.44C28.918 0 32 3.134 32 7s-3.083 7-6.886 7H7.756l-.068-.077c-.34-.098-.66-.29-.918-.575L.516 6.424A1.997 1.997 0 01.008 5.26L0 5.25l.007-.007c-.043-.523.12-1.06.487-1.481L3.187.677zm1.714 1.319a.5.5 0 00-.376.171L2.273 4.746a.5.5 0 00.005.664l5.586 6.183a.5.5 0 00.742 0L14.19 5.41a.5.5 0 00.006-.664l-2.252-2.579a.5.5 0 00-.377-.171H4.901z"})]})}var l=function(e){var n=e.level;return(0,r.jsxs)("span",{className:"relative inline-block h-3 select-none leading-3",children:[n?(0,r.jsx)(a,{level:n}):(0,r.jsx)("div",{children:"\u6682\u65e0"}),!!n&&(0,r.jsx)("span",{className:"absolute right-[4px] top-[1px] scale-[calc(11/12)] font-typo text-[12px] text-white",children:"L".concat(n)})]})}},83144:function(e,n,t){t.d(n,{g:function(){return f}});var r=t(85893),o=t(67294),i=t(90758),a=t(12831);function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function u(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){u(e,n,t[n])}))}return e}function c(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function d(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(u){l=!0,o=u}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return l(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return l(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=o.forwardRef((function(e,n){var t=e.value,l=void 0===t?"":t,u=e.autoSize,f=void 0!==u&&u,m=e.onChange,v=e.className,p=e.maxLength,y=e.showRecord,b=e.rows,h=c(e,["value","autoSize","onChange","className","maxLength","showRecord","rows"]),g=(0,o.useCallback)((function(e){null===m||void 0===m||m(e.target.value)}),[m]),x=(0,o.useRef)(null),j=(0,o.useCallback)((function(e){x.current=e,"function"===typeof n?n(e):(null===n||void 0===n?void 0:n.current)&&(n.current=e)}),[]),C=(0,o.useState)(1),w=C[0],O=C[1],I=(0,o.useRef)(null);return(0,o.useEffect)((function(){if(f){var e=I.current;if(e){var n=new ResizeObserver((function(e){var n=d(e,1)[0];O(n.target.scrollHeight/20|0)}));return n.observe(e),function(){n.disconnect()}}}}),[f]),(0,o.useEffect)((function(){var e=I.current;e&&f&&O(e.scrollHeight/20|0)}),[l,f]),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"h-0 overflow-hidden",children:(0,r.jsx)("textarea",{ref:I,className:"w-full resize-none overflow-hidden px-2 leading-5 outline-none",rows:1,value:l,disabled:!0})}),(0,r.jsx)("textarea",s({},h,{ref:j,maxLength:p,value:l,onChange:g,rows:f?w:b,className:(0,i.yI)({"overflow-hidden":f},"w-full rounded-lg px-2 py-2.5 leading-5","border border-transparent outline-none transition-[border-color] focus:border-green-s",v)})),p&&p>0&&y&&(0,r.jsxs)("div",{className:(0,i.yI)("absolute right-2 bottom-2 text-xs",a.Cj.label3),children:[l.length," / ",p]})]})}))},29337:function(e,n,t){var r,o,i;t.d(n,{f:function(){return r},i6:function(){return o},ZL:function(){return i}}),function(e){e.Best="best",e.Hot="hot",e.MostRelevant="most_relevant",e.MostVotes="most_votes",e.NewestToOldest="newest_to_oldest",e.OldestToNewest="oldest_to_newest"}(r||(r={})),function(e){e.Up="up",e.Down="down",e.None="none"}(o||(o={})),function(e){e.Abuse="ABUSE",e.Advertising="ADVERTISING",e.All="ALL",e.Fake="FAKE",e.Illegal="ILLEGAL",e.NonEnglish="NON_ENGLISH",e.Other="OTHER",e.Politics="POLITICS",e.Sexual="SEXUAL",e.Terrorism="TERRORISM",e.Violent="VIOLENT"}(i||(i={}))},97383:function(e,n,t){t.d(n,{E:function(){return f}});var r=t(94207),o=t(29732),i=t(40425),a=t(66004),l=t(26629),u=t(29450);function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function c(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(u){l=!0,o=u}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return s(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d=function(e){return e.toLowerCase()},f=function(e){var n=(0,r.Z)((0,o.Z)(e)).map(d),t=(0,i.F)().theme;return(0,l.VaZ)(a.f6,{slugs:(0,r.Z)(e)},{enabled:n.length>0&&u.ob,select:function(e){var r=e.reputationUserReputations,i=e.userProfileUserColors,a=e.userProfileUserPendants,u=r.reduce((function(e,n){n&&(e[n.user.userSlug.toLowerCase()]={level:n.level,reputation:n.reputation});return e}),{}),s=i.reduce((function(e,t,r){var i=n[r];return t&&i&&(e[i]=(0,o.Z)(t)),e}),{}),d=a.reduce((function(e,t,r){var o=n[r];if(t&&o){var i=t.category===l.mdI.DailyQuestionMedal?"".concat(t.month," \u6708\u6253\u5361\u52cb\u7ae0"):t.name;e[o]={name:i,icon:t.config.iconWearing||""}}return e}),{});return n.reduce((function(e,n){var r,o,i,a=n.toLowerCase(),l=d[a],f=c(null!==(o=s[a])&&void 0!==o?o:["",""],2),m=f[0],v=f[1],p="dark"===t?v:m;return e[a]={nameColor:p,activeBadgeIcon:(null===l||void 0===l?void 0:l.icon)||"",activeBadgeName:(null===l||void 0===l?void 0:l.name)||"",reputation:null!==(i=null===(r=u[a])||void 0===r?void 0:r.level)&&void 0!==i?i:0},e}),{})}})}},43710:function(e,n,t){var r,o,i,a;t.d(n,{av:function(){return r},$4:function(){return o},i7:function(){return i},rr:function(){return a}}),function(e){e.Hot="hot",e.MostPosts="most_posts",e.MostRelevant="most_relevant",e.MostVotes="most_votes",e.NewestToOldest="newest_to_oldest",e.OldestToNewest="oldest_to_newest",e.RecentActivity="recent_activity"}(r||(r={})),function(e){e.All="All",e.Deleted="Deleted",e.Hidden="Hidden",e.NeedUpdate="NeedUpdate",e.Open="Open",e.Pending="Pending",e.Reviewed="Reviewed",e.Muted="Muted",e.Draft="Draft"}(o||(o={})),function(e){e[e.Upvote=1]="Upvote",e[e.None=0]="None",e[e.Downvote=-1]="Downvote"}(i||(i={})),function(e){e.Body="BODY",e.Comment="COMMENT",e.Reply="REPLY",e.Title="TITLE"}(a||(a={}))},91455:function(e,n,t){t.d(n,{z:function(){return i}});var r=t(26629),o=t(66004),i=t(29450).Oo?function(){return{}}:function(e){return(0,r.Gj3)(o.f6,{titleSlug:e},{enabled:!!e,select:function(e){if(!e.question)return null;var n=e.question;return{translatedTitle:n.translatedTitle||"",translatedContent:n.translatedContent||""}}})}},26567:function(e,n,t){t.d(n,{h:function(){return i}});var r=t(85893);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var i=t(67294).forwardRef((function(e,n){return(0,r.jsx)("svg",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){o(e,n,t[n])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e,{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M16.293 9.293a1 1 0 111.414 1.414l-5 5a1 1 0 01-1.414 0l-5-5a1 1 0 011.414-1.414L12 13.586l4.293-4.293z",clipRule:"evenodd"})}))}))},63062:function(e,n,t){t.d(n,{S:function(){return i}});var r=t(85893);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var i=t(67294).forwardRef((function(e,n){return(0,r.jsx)("svg",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){o(e,n,t[n])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e,{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M16.293 14.707a1 1 0 001.414-1.414l-5-5a1 1 0 00-1.414 0l-5 5a1 1 0 101.414 1.414L12 10.414l4.293 4.293z",clipRule:"evenodd"})}))}))},16742:function(e,n,t){t.d(n,{P:function(){return i}});var r=t(85893);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var i=t(67294).forwardRef((function(e,n){return(0,r.jsx)("svg",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){o(e,n,t[n])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e,{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M11 20a1 1 0 011-1h8a1 1 0 110 2h-8a1 1 0 01-1-1zM17.018 5c-.26 0-.51.104-.695.288L4.837 16.773l-.463 1.853 1.853-.463L17.712 6.677A.981.981 0 0017.018 5zm-2.11-1.126a2.983 2.983 0 014.219 4.217L7.444 19.773a1 1 0 01-.464.263l-3.738.934a1 1 0 01-1.213-1.212l.934-3.739a1 1 0 01.263-.464L14.91 3.874z",clipRule:"evenodd"})}))}))},37599:function(e,n,t){t.d(n,{Q:function(){return i}});var r=t(85893);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var i=t(67294).forwardRef((function(e,n){return(0,r.jsxs)("svg",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){o(e,n,t[n])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e,{children:[(0,r.jsx)("path",{fillRule:"evenodd",d:"M11.5 5.5a7 7 0 107 7 1 1 0 112 0 9 9 0 11-9-9 1 1 0 110 2z",clipRule:"evenodd"}),(0,r.jsx)("path",{fillRule:"evenodd",d:"M20.207 3.793a1 1 0 010 1.414l-7 7a1 1 0 01-1.414-1.414l7-7a1 1 0 011.414 0z",clipRule:"evenodd"}),(0,r.jsx)("path",{fillRule:"evenodd",d:"M14.5 4.5a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 11-2 0v-3h-3a1 1 0 01-1-1z",clipRule:"evenodd"})]}))}))},87388:function(e,n,t){t.d(n,{j:function(){return i}});var r=t(85893);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var i=t(67294).forwardRef((function(e,n){return(0,r.jsx)("svg",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){o(e,n,t[n])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e,{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M16.96 14.893l-3.297 7.418a1 1 0 01-.914.594 3.67 3.67 0 01-3.67-3.67v-2.562H5.05a2.78 2.78 0 01-2.78-3.199l1.228-8.01A2.778 2.778 0 016.268 3.1H18.98a2.78 2.78 0 012.78 2.78v6.233a2.78 2.78 0 01-2.78 2.78H16.96zm2.02-2a.78.78 0 00.781-.78V5.88a.78.78 0 00-.78-.78H17.31v7.792h1.67z",clipRule:"evenodd"})}))}))},30101:function(e,n,t){t.d(n,{y:function(){return i}});var r=t(85893);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var i=t(67294).forwardRef((function(e,n){return(0,r.jsx)("svg",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){o(e,n,t[n])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e,{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M13.663 22.309a1 1 0 01-.914.594 3.67 3.67 0 01-3.67-3.671V16.67H5.05a2.78 2.78 0 01-2.78-3.2l1.228-8.01a2.778 2.778 0 012.769-2.364H18.98a2.78 2.78 0 012.78 2.781v6.232a2.78 2.78 0 01-2.78 2.78H16.96l-3.297 7.419zm5.318-9.419a.78.78 0 00.78-.78V5.878a.78.78 0 00-.78-.78H17.31v7.792h1.67zM6.257 5.097a.781.781 0 00-.781.666l-1.229 8.01a.78.78 0 00.792.898h5.04a1 1 0 011 1v3.56c0 .712.443 1.32 1.07 1.56l3.16-7.113v-8.58H6.258z",clipRule:"evenodd"})}))}))},65890:function(e,n,t){t.d(n,{C:function(){return i}});var r=t(85893);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var i=t(67294).forwardRef((function(e,n){return(0,r.jsx)("svg",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){o(e,n,t[n])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e,{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M7.04 9.11l3.297-7.419a1 1 0 01.914-.594 3.67 3.67 0 013.67 3.671V7.33h4.028a2.78 2.78 0 012.78 3.2l-1.228 8.01a2.778 2.778 0 01-2.769 2.363H5.019a2.78 2.78 0 01-2.78-2.78V11.89a2.78 2.78 0 012.78-2.78H7.04zm-2.02 2a.78.78 0 00-.781.78v6.232c0 .431.35.78.78.78H6.69V11.11H5.02z",clipRule:"evenodd"})}))}))},66698:function(e,n,t){t.d(n,{j:function(){return i}});var r=t(85893);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var i=t(67294).forwardRef((function(e,n){return(0,r.jsx)("svg",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){o(e,n,t[n])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e,{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M20 5h-4V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v1H4a1 1 0 000 2h1v12a3 3 0 003 3h8a3 3 0 003-3V7h1a1 1 0 100-2zm-6-1v1h-4V4h4zm-5 6a1 1 0 012 0v7a1 1 0 11-2 0v-7zm4 0a1 1 0 112 0v7a1 1 0 11-2 0v-7zM7 7h10v12a1 1 0 01-1 1H8a1 1 0 01-1-1V7z",clipRule:"evenodd"})}))}))},6486:function(e,n,t){t.d(n,{Q:function(){return i}});var r=t(85893);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var i=t(67294).forwardRef((function(e,n){return(0,r.jsx)("svg",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){o(e,n,t[n])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e,{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zM10.944 9.835a1.25 1.25 0 012.429.417c0 .253-.226.555-.68.857a4.039 4.039 0 01-.886.446 1 1 0 10.632 1.897c.358-.12.855-.34 1.364-.679.952-.635 1.57-1.458 1.57-2.52a3.25 3.25 0 00-6.316-1.081 1 1 0 001.887.663zM11.186 16v.135a1 1 0 102 0V16a1 1 0 10-2 0z",clipRule:"evenodd"})}))}))},68033:function(e,n,t){t.d(n,{J:function(){return i}});var r=t(85893);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var i=t(67294).forwardRef((function(e,n){return(0,r.jsx)("svg",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){o(e,n,t[n])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e,{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M13 7a1 1 0 011-1h2a6 6 0 010 12h-2a1 1 0 110-2h2a4 4 0 000-8h-2a1 1 0 01-1-1zm-3 10a1 1 0 01-1 1H8A6 6 0 018 6h1a1 1 0 010 2H8a4 4 0 100 8h1a1 1 0 011 1zm-1-6h6a1 1 0 110 2H9a1 1 0 110-2z",clipRule:"evenodd"})}))}))},82677:function(e,n,t){t.d(n,{j:function(){return i}});var r=t(85893);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var i=t(67294).forwardRef((function(e,n){return(0,r.jsx)("svg",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){o(e,n,t[n])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e,{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M19 11.063V7h-2v1a1 1 0 11-2 0V7H9v1a1 1 0 01-2 0V7H5v4.063h14zm0 2H5V19h14v-5.938zM9 5h6V4a1 1 0 112 0v1h2a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2V4a1 1 0 012 0v1z",clipRule:"evenodd"})}))}))},55824:function(e,n,t){t.d(n,{H:function(){return i}});var r=t(85893);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var i=t(67294).forwardRef((function(e,n){return(0,r.jsx)("svg",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){o(e,n,t[n])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e,{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M14.707 2.707a1 1 0 00-1.414-1.414l-2 2a1 1 0 00-.15 1.221l1.5 2.5a1 1 0 001.714-1.029l-.454-.757a8 8 0 11-6.347 1.119 1 1 0 00-1.112-1.662A9.991 9.991 0 002 13c0 5.523 4.477 10 10 10s10-4.477 10-10c0-4.775-3.347-8.769-7.823-9.762l.53-.53zM13 10a1 1 0 10-2 0v4a1 1 0 00.445.832l3 2a1 1 0 001.11-1.664L13 13.465V10z",clipRule:"evenodd"})}))}))},91208:function(e,n,t){t.d(n,{Ts:function(){return o},jY:function(){return i},DI:function(){return a},LE:function(){return l},yC:function(){return u}});var r=t(34155),o="",i=(r.env.UGC_OSS_REGION,"https://leetcode-cn.com"),a="https://pay.lingkou.com",l="wxadf3350b709be02e",u=!1}}]);
//# sourceMappingURL=5490-4758fe073f4190bd.js.map